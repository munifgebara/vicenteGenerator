const util = require("../util");



module.exports.geraproject__editorconfig = geraproject__editorconfig;
module.exports.geraproject__gitignore = geraproject__gitignore;
module.exports.geraproject_README_md = geraproject_README_md;
module.exports.geraproject_angular_json = geraproject_angular_json;
module.exports.geraproject_ngsw_config_json = geraproject_ngsw_config_json;
module.exports.geraproject_package_json = geraproject_package_json;


module.exports.geraproject__app_routing_module_ts = geraproject__app_routing_module_ts;



module.exports.geraproject__app_component_ts = geraproject__app_component_ts;
module.exports.geraproject__app_module_ts = geraproject__app_module_ts;

module.exports.geraproject_src_assets__gitkeep = geraproject_src_assets__gitkeep;


module.exports.geraproject_src_browserslist = geraproject_src_browserslist;

module.exports.geraproject_src_environments_environment_prod_ts = geraproject_src_environments_environment_prod_ts;
module.exports.geraproject_src_environments_environment_ts = geraproject_src_environments_environment_ts;
module.exports.geraproject_src_index_html = geraproject_src_index_html;
module.exports.geraproject_src_karma_conf_js = geraproject_src_karma_conf_js;
module.exports.geraproject_src_main_ts = geraproject_src_main_ts;
module.exports.geraproject_src_manifest_json = geraproject_src_manifest_json;
module.exports.geraproject_src_polyfills_ts = geraproject_src_polyfills_ts;
module.exports.geraproject_src_styles_css = geraproject_src_styles_css;
module.exports.geraproject_src_test_ts = geraproject_src_test_ts;
module.exports.geraproject_src_tsconfig_app_json = geraproject_src_tsconfig_app_json;
module.exports.geraproject_src_tsconfig_spec_json = geraproject_src_tsconfig_spec_json;
module.exports.geraproject_src_tslint_json = geraproject_src_tslint_json;
module.exports.geraproject_tsconfig_json = geraproject_tsconfig_json;
module.exports.geraproject_tslint_json = geraproject_tslint_json;



module.exports.gera_pietra_guard_guard_ts = gera_pietra_guard_guard_ts;
module.exports.geraalert_message_ts = geraalert_message_ts;
module.exports.geraexcluir_atributos_sistema_pipe_spec_ts = geraexcluir_atributos_sistema_pipe_spec_ts;
module.exports.geraexcluir_atributos_sistema_pipe_ts = geraexcluir_atributos_sistema_pipe_ts;
module.exports.geravic_components_module_ts = geravic_components_module_ts;

module.exports.geraalert_message_ts = geraalert_message_ts;


module.exports.gerabase_entity_ts = gerabase_entity_ts;

module.exports.geranaoexiste_component_css = geranaoexiste_component_css;
module.exports.geranaoexiste_component_html = geranaoexiste_component_html;
module.exports.geranaoexiste_component_spec_ts = geranaoexiste_component_spec_ts;
module.exports.geranaoexiste_component_ts = geranaoexiste_component_ts;

module.exports.geraprincipal_component_css = geraprincipal_component_css;
module.exports.geraprincipal_component_html = geraprincipal_component_html;
module.exports.geraprincipal_component_spec_ts = geraprincipal_component_spec_ts;
module.exports.geraprincipal_component_ts = geraprincipal_component_ts;
module.exports.gerasuper_detalhes_ts = gerasuper_detalhes_ts;
module.exports.gerasuper_lista_ts = gerasuper_lista_ts;
module.exports.gerasuper_service_ts = gerasuper_service_ts;
module.exports.geravic_return_ts = geravic_return_ts;

module.exports.geragroup_ts = geragroup_ts;
module.exports.geraorganization_ts = geraorganization_ts;
module.exports.geratoken_ts = geratoken_ts;
module.exports.gerauser_ts = gerauser_ts;
module.exports.geraexcluir_atributos_sistema_pipe_spec_ts = geraexcluir_atributos_sistema_pipe_spec_ts;
module.exports.geraexcluir_atributos_sistema_pipe_ts = geraexcluir_atributos_sistema_pipe_ts;
module.exports.geravic_components_module_ts = geravic_components_module_ts;

module.exports.geravic_many_to_many_component_css = geravic_many_to_many_component_css;
module.exports.geravic_many_to_many_component_html = geravic_many_to_many_component_html;
module.exports.geravic_many_to_many_component_spec_ts = geravic_many_to_many_component_spec_ts;
module.exports.geravic_many_to_many_component_ts = geravic_many_to_many_component_ts;

module.exports.geravic_many_to_one_component_css = geravic_many_to_one_component_css;
module.exports.geravic_many_to_one_component_html = geravic_many_to_one_component_html;
module.exports.geravic_many_to_one_component_spec_ts = geravic_many_to_one_component_spec_ts;
module.exports.geravic_many_to_one_component_ts = geravic_many_to_one_component_ts;

module.exports.gerasuper_detalhe_om_component_ts = gerasuper_detalhe_om_component_ts;
module.exports.geravic_one_to_many_component_css = geravic_one_to_many_component_css;
module.exports.geravic_one_to_many_component_html = geravic_one_to_many_component_html;
module.exports.geravic_one_to_many_component_spec_ts = geravic_one_to_many_component_spec_ts;
module.exports.geravic_one_to_many_component_ts = geravic_one_to_many_component_ts;


module.exports.geravic_system_fields_component_css = geravic_system_fields_component_css;
module.exports.geravic_system_fields_component_html = geravic_system_fields_component_html;
module.exports.geravic_system_fields_component_spec_ts = geravic_system_fields_component_spec_ts;
module.exports.geravic_system_fields_component_ts = geravic_system_fields_component_ts;

module.exports.geravic_tabela_component_css = geravic_tabela_component_css;
module.exports.geravic_tabela_component_html = geravic_tabela_component_html;
module.exports.geravic_tabela_component_spec_ts = geravic_tabela_component_spec_ts;
module.exports.geravic_tabela_component_ts = geravic_tabela_component_ts;



module.exports.geralogin_component_css = geralogin_component_css;
module.exports.geralogin_component_html = geralogin_component_html;
module.exports.geralogin_component_spec_ts = geralogin_component_spec_ts;
module.exports.geralogin_component_ts = geralogin_component_ts;
module.exports.geralogin_service_ts = geralogin_service_ts;


module.exports.gera_user_crud_crud_component_css = gera_user_crud_crud_component_css;
module.exports.gera_user_crud_crud_component_html = gera_user_crud_crud_component_html;
module.exports.gera_user_crud_crud_component_ts = gera_user_crud_crud_component_ts;
module.exports.gera_user_detalhes_detalhes_component_css = gera_user_detalhes_detalhes_component_css;
module.exports.gera_user_detalhes_detalhes_component_html = gera_user_detalhes_detalhes_component_html;
module.exports.gera_user_detalhes_detalhes_component_ts = gera_user_detalhes_detalhes_component_ts;
module.exports.gera_user_lista_lista_component_css = gera_user_lista_lista_component_css;
module.exports.gera_user_lista_lista_component_html = gera_user_lista_lista_component_html;
module.exports.gera_user_lista_lista_component_ts = gera_user_lista_lista_component_ts;
module.exports.gera_user_user_routing_module_ts = gera_user_user_routing_module_ts;
module.exports.gera_user_user_module_ts = gera_user_user_module_ts;
module.exports.gera_user_user_service_ts = gera_user_user_service_ts;
module.exports.gera_group_crud_crud_component_css = gera_group_crud_crud_component_css;
module.exports.gera_group_crud_crud_component_html = gera_group_crud_crud_component_html;
module.exports.gera_group_crud_crud_component_ts = gera_group_crud_crud_component_ts;

module.exports.gera_group_detalhes_detalhes_component_css = gera_group_detalhes_detalhes_component_css;
module.exports.gera_group_detalhes_detalhes_component_html = gera_group_detalhes_detalhes_component_html;
module.exports.gera_group_detalhes_detalhes_component_ts = gera_group_detalhes_detalhes_component_ts;
module.exports.gera_group_group_routing_module_ts = gera_group_group_routing_module_ts;
module.exports.gera_group_group_module_ts = gera_group_group_module_ts;
module.exports.gera_group_group_service_ts = gera_group_group_service_ts;

module.exports.gera_group_lista_lista_component_css = gera_group_lista_lista_component_css;
module.exports.gera_group_lista_lista_component_html = gera_group_lista_lista_component_html;
module.exports.gera_group_lista_lista_component_ts = gera_group_lista_lista_component_ts;
module.exports.gera_organization_crud_crud_component_css = gera_organization_crud_crud_component_css;
module.exports.gera_organization_crud_crud_component_html = gera_organization_crud_crud_component_html;
module.exports.gera_organization_crud_crud_component_ts = gera_organization_crud_crud_component_ts;
module.exports.gera_organization_detalhes_detalhes_component_css = gera_organization_detalhes_detalhes_component_css;
module.exports.gera_organization_detalhes_detalhes_component_html = gera_organization_detalhes_detalhes_component_html;
module.exports.gera_organization_detalhes_detalhes_component_ts = gera_organization_detalhes_detalhes_component_ts;

module.exports.gera_organization_lista_lista_component_css = gera_organization_lista_lista_component_css;
module.exports.gera_organization_lista_lista_component_html = gera_organization_lista_lista_component_html;
module.exports.gera_organization_lista_lista_component_ts = gera_organization_lista_lista_component_ts;
module.exports.gera_organization_organization_routing_module_ts = gera_organization_organization_routing_module_ts;
module.exports.gera_organization_organization_module_ts = gera_organization_organization_module_ts;
module.exports.gera_organization_organization_service_ts = gera_organization_organization_service_ts;


module.exports.gera_entidade_crud_crud_component_css = gera_entidade_crud_crud_component_css;
module.exports.gera_entidade_crud_crud_component_html = gera_entidade_crud_crud_component_html;
module.exports.gera_entidade_crud_crud_component_ts = gera_entidade_crud_crud_component_ts;
module.exports.gera_entidade_detalhes_detalhes_component_css = gera_entidade_detalhes_detalhes_component_css;
module.exports.gera_entidade_detalhes_detalhes_component_html = gera_entidade_detalhes_detalhes_component_html;
module.exports.gera_entidade_detalhes_detalhes_component_ts = gera_entidade_detalhes_detalhes_component_ts;
module.exports.gera_entidade_lista_lista_component_css = gera_entidade_lista_lista_component_css;
module.exports.gera_entidade_lista_lista_component_html = gera_entidade_lista_lista_component_html;
module.exports.gera_entidade_lista_lista_component_ts = gera_entidade_lista_lista_component_ts;
module.exports.gera_entidade_routing_module_ts = gera_entidade_routing_module_ts;
module.exports.gera_entidade_module_ts = gera_entidade_module_ts;
module.exports.gera_entidade_service_ts = gera_entidade_service_ts;




function geraproject__editorconfig(project, angularPath) {
  let src = `
# Editor configuration, see http://editorconfig.org
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 2
insert_final_newline = true
trim_trailing_whitespace = true

[*.md]
max_line_length = off
trim_trailing_whitespace = false

  `;
  util.escreveArquivo(`${angularPath}//.editorconfig`, src, `utf8`);
}




function geraproject__gitignore(project, angularPath) {
  let src = `
# See http://help.github.com/ignore-files/ for more about ignoring files.

# compiled output
/dist
/tmp
/out-tsc

# dependencies
/node_modules

# IDEs and editors
/.idea
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# misc
/.sass-cache
/connect.lock
/coverage
/libpeerconnection.log
npm-debug.log
yarn-error.log
testem.log
/typings

# System Files
.DS_Store
Thumbs.db

  `;
  util.escreveArquivo(`${angularPath}//.gitignore`, src, `utf8`);
}




function geraproject_README_md(project, angularPath) {
  let src = `
# Project

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 6.0.8.

## Development server

Run \`ng serve\` for a dev server. Navigate to \`http://localhost:4200/\`. The app will automatically reload if you change any of the source files.

## Code scaffolding

Run \`ng generate component component-name\` to generate a new component. You can also use \`ng generate directive|pipe|service|class|guard|interface|enum|module\`.

## Build

Run \`ng build\` to build the project. The build artifacts will be stored in the \`dist/\` directory. Use the \`--prod\` flag for a production build.

## Running unit tests

Run \`ng test\` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run \`ng e2e\` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Further help

To get more help on the Angular CLI use \`ng help\` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).

  `;
  util.escreveArquivo(`${angularPath}//README.md`, src, `utf8`);
}




function geraproject_angular_json(project, angularPath) {
  let src = `
{
  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",
  "version": 1,
  "newProjectRoot": "projects",
  "projects": {
    "project": {
      "projectType": "application",
      "schematics": {},
      "root": "",
      "sourceRoot": "src",
      "prefix": "app",
      "architect": {
        "build": {
          "builder": "@angular-devkit/build-angular:browser",
          "options": {
            "outputPath": "dist/project",
            "index": "src/index.html",
            "main": "src/main.ts",
            "polyfills": "src/polyfills.ts",
            "tsConfig": "tsconfig.app.json",
            "aot": false,
            "assets": [
              "src/favicon.ico",
              "src/assets"
            ],
            "styles": [
              "./node_modules/@angular/material/prebuilt-themes/indigo-pink.css",
              "./node_modules/bootstrap/dist/css/bootstrap.css",
              "src/styles.css"
            ],
            "scripts": []
          },
          "configurations": {
            "production": {
              "fileReplacements": [
                {
                  "replace": "src/environments/environment.ts",
                  "with": "src/environments/environment.prod.ts"
                }
              ],
              "optimization": true,
              "outputHashing": "all",
              "sourceMap": false,
              "extractCss": true,
              "namedChunks": false,
              "aot": true,
              "extractLicenses": true,
              "vendorChunk": false,
              "buildOptimizer": true,
              "budgets": [
                {
                  "type": "initial",
                  "maximumWarning": "2mb",
                  "maximumError": "5mb"
                },
                {
                  "type": "anyComponentStyle",
                  "maximumWarning": "6kb",
                  "maximumError": "10kb"
                }
              ]
            }
          }
        },
        "serve": {
          "builder": "@angular-devkit/build-angular:dev-server",
          "options": {
            "browserTarget": "project:build"
          },
          "configurations": {
            "production": {
              "browserTarget": "project:build:production"
            }
          }
        },
        "extract-i18n": {
          "builder": "@angular-devkit/build-angular:extract-i18n",
          "options": {
            "browserTarget": "project:build"
          }
        },
        "test": {
          "builder": "@angular-devkit/build-angular:karma",
          "options": {
            "main": "src/test.ts",
            "polyfills": "src/polyfills.ts",
            "tsConfig": "tsconfig.spec.json",
            "karmaConfig": "karma.conf.js",
            "assets": [
              "src/favicon.ico",
              "src/assets"
            ],
            "styles": [
              "src/styles.css"
            ],
            "scripts": []
          }
        },
        "lint": {
          "builder": "@angular-devkit/build-angular:tslint",
          "options": {
            "tsConfig": [
              "tsconfig.app.json",
              "tsconfig.spec.json",
              "e2e/tsconfig.json"
            ],
            "exclude": [
              "**/node_modules/**"
            ]
          }
        },
        "e2e": {
          "builder": "@angular-devkit/build-angular:protractor",
          "options": {
            "protractorConfig": "e2e/protractor.conf.js",
            "devServerTarget": "project:serve"
          },
          "configurations": {
            "production": {
              "devServerTarget": "project:serve:production"
            }
          }
        }
      }
    }},
  "defaultProject": "project"
}
  `;
  util.escreveArquivo(`${angularPath}/angular.json`, src, `utf8`);
}




function geraproject_ngsw_config_json(project, angularPath) {
  let src = `
{
  "index": "/index.html",
  "assetGroups": [{
    "name": "app",
    "installMode": "prefetch",
    "resources": {
      "files": [
        "/favicon.ico",
        "/index.html",
        "/*.css",
        "/*.js"
      ]
    }
  }, {
    "name": "assets",
    "installMode": "lazy",
    "updateMode": "prefetch",
    "resources": {
      "files": [
        "/assets/**"
      ]
    }
  }]
}
  `;
  util.escreveArquivo(`${angularPath}/ngsw-config.json`, src, `utf8`);
}




function geraproject_package_json(project, angularPath) {
  let src = `
{
  "name": "project",
  "version": "0.0.0",
  "scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "test": "ng test",
    "lint": "ng lint",
    "e2e": "ng e2e"
  },
  "private": true,
  "dependencies": {
    "@angular/animations": "~8.2.13",
    "@angular/common": "~8.2.13",
    "@angular/compiler": "~8.2.13",
    "@angular/core": "~8.2.13",
    "@angular/forms": "~8.2.13",
    "@angular/platform-browser": "~8.2.13",
    "@angular/platform-browser-dynamic": "~8.2.13",
    "@angular/router": "~8.2.13",
    "rxjs": "~6.4.0",
    "tslib": "^1.10.0",
    "zone.js": "~0.9.1",
    "@angular/cdk": "^8.2.3",
    "@angular/http": "^7.2.15",
    "@angular/material": "^8.2.3",
    "@angular/pwa": "^0.803.18",
    "core-js": "^3.4.1",
    "rxjs-compat": "^6.5.3",
    "ng-pick-datetime": "^7.0.0",
    "ng2-currency-mask": "^5.3.1",
    "ng2-tooltip-directive": "^2.8.17",
    "ngx-bootstrap": "^5.2.0",
    "@angular/service-worker": "^8.2.13",
    "hammerjs": "^2.0.8",
    "bootstrap": "^4.3.1"
  },
  "devDependencies": {
    "@angular-devkit/build-angular": "~0.803.18",
    "@angular/cli": "~8.3.18",
    "@angular/compiler-cli": "~8.2.13",
    "@angular/language-service": "~8.2.13",
    "@types/node": "~8.9.4",
    "@types/jasmine": "~3.3.8",
    "@types/jasminewd2": "~2.0.3",
    "codelyzer": "^5.0.0",
    "jasmine-core": "~3.4.0",
    "jasmine-spec-reporter": "~4.2.1",
    "karma": "~4.1.0",
    "karma-chrome-launcher": "~2.2.0",
    "karma-coverage-istanbul-reporter": "~2.0.1",
    "karma-jasmine": "~2.0.1",
    "karma-jasmine-html-reporter": "^1.4.0",
    "protractor": "~5.4.0",
    "ts-node": "~7.0.0",
    "tslint": "~5.15.0",
    "typescript": "~3.5.3"
  }
}

  `;
  util.escreveArquivo(`${angularPath}//package.json`, src, `utf8`);
}




function geraproject__app_routing_module_ts(project, angularPath) {
  let src = `
import { NgModule } from '@angular/core';
import { Routes, RouterModule, Router } from '@angular/router';
import { PrincipalComponent } from './vic-components/comum/principal/principal.component';
import { NaoexisteComponent } from './vic-components/comum/naoexiste/naoexiste.component';
import { LoginComponent } from './login/login.component';
import { PietraGuardGuard } from './pietra-guard.guard';



const routes: Routes = [
  { path: 'login', component: LoginComponent },
  { path: 'principal', component: PrincipalComponent, canActivate: [PietraGuardGuard] },
  { path: '', redirectTo: '/principal', pathMatch: 'full' },
  { path: '**', component: NaoexisteComponent },



];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule {

  constructor(r: Router) {
    this.logaRotas("/", r.config);
  }

  logaRotas(pai: String, rotas: Routes) {
    console.log("Rotas");
    for (let i = 0; i < rotas.length; i++) {

      console.log("path:", pai, rotas[i].path, rotas[i].component ? rotas[i].component : "-->" + rotas[i].redirectTo);
      if (rotas[i].children) {
        rotas[i].canActivate = [PietraGuardGuard];
        this.logaRotas(rotas[i].path + "/", rotas[i].children);
      }
    }

  }
}

  `;
  util.escreveArquivo(`${angularPath}/src/app//app-routing.module.ts`, src, `utf8`);
}




function geraproject__app_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit } from '@angular/core';
import { LoginService } from './login/login.service';
import { Router } from '@angular/router';
import { BaseEntity } from './vic-components/comum/base-entity';

@Component({
  selector: 'vic-root',
  template: \`
<mat-toolbar color="primary">
  <mat-toolbar-row class="main-mat-toolbar-row">
      <div>
          <button type="button" mat-button (click)="drawer.toggle()">
              <mat-icon aria-hidden="false" aria-label="Home">
                  menu
              </mat-icon>
          </button>
          <span>${project.description.title}</span>
      </div>
      <div class="toolbar-info" *ngIf="loginService.token && loginService.token.user">
          <span>Organization: {{ loginService.token.user.organization.name }}</span>
          <span>
              <mat-form-field>
                <mat-select [compareWith]="byId" [ngModel]="loginService.groupAtual"
                            (ngModelChange)="onValorChange($event)">
                    <mat-option *ngFor="let opcao of loginService.token.user.groups" [value]="opcao">
                        {{ opcao['code'] }}-{{ opcao['name'] }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
          </span>
          <span>{{ loginService.token.user.login }}</span>
          <button mat-icon-button [matMenuTriggerFor]="menu">
              <div mat-card-avatar class="main-header-image"></div>
          </button>
          <mat-menu #menu="matMenu">
              <button mat-menu-item>
                  <mat-icon>vpn_key</mat-icon>
                  <span>Change e-mail</span>
              </button>
              <button mat-menu-item>
                  <mat-icon>close</mat-icon>
                  <span>Exit</span>
              </button>
          </mat-menu>
      </div>
  </mat-toolbar-row>
</mat-toolbar>
<main role="main">
  <mat-drawer-container autosize>
      <mat-drawer #drawer mode="side">
          <ul>
              <li class="nav-item" *ngFor="let item of menu">
                  <a class="nav-link {{item.active?'active':''}}" [routerLink]="[item.link]"
                     (click)="onMenuClick(item)" *ngIf="item.link">
                      <i class="{{item.iconeTipo}} {{item.icone}}"></i> {{ item.label }}
                  </a>
                  <a class="nav-link {{item.active?'active':''}}" (click)="onMenuPaiClick(item)"
                     *ngIf="!item.link">
                      <i class="{{item.iconeTipo}} {{item.icone}}"></i> {{ item.label }}
                      <i class="fas fa-angle-down " style="float:right;margin-top: 5px;"></i>
                  </a>
                  <ul class="nav flex-column" *ngIf="item.active">
                      <li class="nav-item" *ngFor="let subItem of item.subItens">
                          <a class="nav-link subItem {{subItem.active?'active':''}}"
                             (click)="onSubMenuClick(item,subItem)" [routerLink]="[subItem.link]">
                              <i class="{{subItem.iconeTipo}} {{subItem.icone}}"></i> {{ subItem.label }}
                          </a>
                      </li>
                  </ul>
              </li>
          </ul>
      </mat-drawer>

      <div class="main-sidenav-content">
          <router-outlet></router-outlet>
      </div>

  </mat-drawer-container>
</main>
        \`,
  styles: [\`
            .subItem{
        padding - left: 30px;
        background - color: #ccc;
    }
    \`]
})
export class AppComponent implements OnInit {
  title = 'app';
  pesquisa = "";
  rota = "./principal";

  constructor(public loginService: LoginService, private router: Router) {

  }

  sair() {
    this.loginService.logout().then(r => {
      this.router.navigate(['/principal']);
    });
  }

  ngOnInit(): void {

  }

  desativaTodos() {
    this.menu.forEach(i => {
      i.active = false;
    });
  }

  onMenuPaiClick(item) {
    let novoEstado = !item.active;
    this.desativaTodos();
    item.active = novoEstado;
  }

  onValorChange(obj: BaseEntity) {
    this.loginService.groupAtual = obj;
  }


  onMenuClick(e) {
    this.desativaTodos();
    e.active = true;
  }


  onSubMenuClick(item, subItem) {
    item.subItens.forEach(i => i.active = false);
    subItem.active = true;
  }

  byId(o1: BaseEntity, o2: BaseEntity) {
    if (!o1 || !o2) {
      return false;
    }
    return o1.id === o2.id;
  }

  menu = [

    /* MENU  */
    { link: './principal', iconeTipo: 'fas', icone: 'fa-home', label: 'Principal', active: false },

    {
      label: 'Novos Modulos', iconeTipo: 'fas', icone: 'fa-lock', active: false,
      subItens: [
          // MARCADOR MENU
          
      ]
  },
    
    {
      label: 'Segurança', iconeTipo: 'fas', icone: 'fa-lock', active: false,
      subItens: [
        { link: './group', iconeTipo: 'fas', icone: 'fa-sitemap', label: 'Grupo', active: false },
        { link: './organization', iconeTipo: 'fas', icone: 'fa-university', label: 'Organização', active: false },
        { link: './user', iconeTipo: 'far', icone: 'fa-user', label: 'Usuário', active: false }
      ]
    },
    {
      label: 'Configuração', iconeTipo: 'fas', icone: 'fa-lock', active: false,
      subItens: [
        { link: './enums', iconeTipo: 'fas', icone: 'fa-sitemap', label: 'Constantes', active: false },
      ]
    }
  ];
}

  `;
  util.escreveArquivoApenasSeNaoExistir(`${angularPath}/src/app//app.component.ts`, src, `utf8`);
}




function geraproject__app_module_ts(project, angularPath) {
  let src = `
import { BrowserModule } from '@angular/platform-browser';
import { BrowserAnimationsModule } from '@angular/platform-browser/animations';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { LOCALE_ID, NgModule } from '@angular/core';
import { HttpModule, Http } from '@angular/http';
import { AppRoutingModule } from './app-routing.module';
import { VicComponentsModule } from './vic-components/vic-components.module';
import { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';

import { AlertModule, AccordionModule } from 'ngx-bootstrap';
import { OWL_DATE_TIME_LOCALE } from 'ng-pick-datetime';
import { AppComponent } from './app.component';
import { PrincipalComponent } from './vic-components/comum/principal/principal.component';
import { NaoexisteComponent } from './vic-components/comum/naoexiste/naoexiste.component';
import { TooltipModule } from 'ng2-tooltip-directive';
import { CurrencyMaskModule } from 'ng2-currency-mask';
import { LoginComponent } from './login/login.component';

import { CurrencyMaskConfig, CURRENCY_MASK_CONFIG } from 'ng2-currency-mask/src/currency-mask.config';
import { ServiceWorkerModule } from '@angular/service-worker';
import { environment } from '../environments/environment';

import { UsuarioModule } from './user/user.module';
import { GrupoModule } from './group/group.module';
import { OrganizacaoModule } from './organization/organization.module';
import {
  MatAutocompleteModule,
  MatButtonModule, MatButtonToggleModule,
  MatCardModule,
  MatCheckboxModule, MatChipsModule,
  MatDatepickerModule, MatDialogModule, MatExpansionModule,
  MatFormFieldModule, MatGridListModule, MatIconModule,
  MatInputModule,
  MatListModule,
  MatMenuModule, MatPaginatorModule, MatProgressBarModule, MatProgressSpinnerModule, MatRadioModule,
  MatSelectModule,
  MatSidenavModule,
  MatSliderModule,
  MatSlideToggleModule, MatSnackBarModule, MatSortModule, MatStepperModule, MatTableModule, MatTabsModule,
  MatToolbarModule, MatTooltipModule
} from "@angular/material";


// MARCADOR PARA COLOCAR IMPORTS


export const CustomCurrencyMaskConfig: CurrencyMaskConfig = {
  align: 'left',
  allowNegative: false,
  decimal: ',',
  precision: 2,
  prefix: 'R$ ',
  suffix: '',
  thousands: '.'
};
  
@NgModule({
  declarations: [
    AppComponent,
    PrincipalComponent,
    NaoexisteComponent,
    LoginComponent

  ],
  imports: [
    BrowserModule, FormsModule, ReactiveFormsModule,
    HttpModule,
    BrowserAnimationsModule,

    MatCheckboxModule,
    MatButtonModule,
    MatInputModule,
    MatAutocompleteModule,
    MatDatepickerModule,
    MatFormFieldModule,
    MatRadioModule,
    MatSelectModule,
    MatSliderModule,
    MatSlideToggleModule,
    MatMenuModule,
    MatSidenavModule,
    MatToolbarModule,
    MatListModule,
    MatGridListModule,
    MatCardModule,
    MatStepperModule,
    MatTabsModule,
    MatExpansionModule,
    MatButtonToggleModule,
    MatChipsModule,
    MatIconModule,
    MatProgressSpinnerModule,
    MatProgressBarModule,
    MatDialogModule,
    MatTooltipModule,
    MatSnackBarModule,
    MatTableModule,
    MatSortModule,
    MatPaginatorModule,

    OwlDateTimeModule,
    OwlNativeDateTimeModule,
    AlertModule.forRoot(),
    AccordionModule.forRoot(),
    TooltipModule,
    CurrencyMaskModule,
    VicComponentsModule,
    ServiceWorkerModule.register('/ngsw-worker.js', { enabled: environment.production }),
    GrupoModule,
    UsuarioModule,
    OrganizacaoModule,

    // MARCADOR MODULE

    AppRoutingModule
  ],
  providers: [
    { provide: LOCALE_ID, useValue: 'pt' },
    { provide: CURRENCY_MASK_CONFIG, useValue: CustomCurrencyMaskConfig }
  ],
  bootstrap: [AppComponent]
})
export class AppModule { }

  `;
  util.escreveArquivoApenasSeNaoExistir(`${angularPath}/src/app/app.module.ts`, src, `utf8`);
}




function geraproject_src_assets__gitkeep(project, angularPath) {
  let src = `

  `;
  util.escreveArquivo(`${angularPath}/src/assets//.gitkeep`, src, `utf8`);
}



function geraproject_src_index_html(project, angularPath) {
  let src = `
<!doctype html>
<html lang="en">
<head>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
  <meta charset="utf-8">
  <title>Project</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1976d2">
</head>
<body>
  <vic-root></vic-root>
</body>
</html>

  `;
  util.escreveArquivo(`${angularPath}/src/index.html`, src, `utf8`);
}




function geraproject_src_karma_conf_js(project, angularPath) {
  let src = `
// Karma configuration file, see link for more information
// https://karma-runner.github.io/1.0/config/configuration-file.html

module.exports = function (config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine', '@angular-devkit/build-angular'],
    plugins: [
      require('karma-jasmine'),
      require('karma-chrome-launcher'),
      require('karma-jasmine-html-reporter'),
      require('karma-coverage-istanbul-reporter'),
      require('@angular-devkit/build-angular/plugins/karma')
    ],
    client: {
      clearContext: false // leave Jasmine Spec Runner output visible in browser
    },
    coverageIstanbulReporter: {
      dir: require('path').join(__dirname, './coverage/project'),
      reports: ['html', 'lcovonly', 'text-summary'],
      fixWebpackSourcePaths: true
    },
    reporters: ['progress', 'kjhtml'],
    port: 9876,
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    browsers: ['Chrome'],
    singleRun: false,
    restartOnFileChange: true
  });
};  
  `;
  util.escreveArquivo(`${angularPath}/karma.conf.js`, src, `utf8`);
}




function geraproject_src_main_ts(project, angularPath) {
  let src = `
import 'hammerjs';
import { enableProdMode } from '@angular/core';
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';

import { AppModule } from './app/app.module';
import { environment } from './environments/environment';

if (environment.production) {
  enableProdMode();
}

platformBrowserDynamic().bootstrapModule(AppModule)
  .catch(err => console.log(err));

  `;
  util.escreveArquivo(`${angularPath}/src/main.ts`, src, `utf8`);
}




function geraproject_src_manifest_json(project, angularPath) {
  let src = `
{
  "name": "project",
  "short_name": "project",
  "theme_color": "#1976d2",
  "background_color": "#fafafa",
  "display": "standalone",
  "scope": "/",
  "start_url": "/",
  "icons": [
    {
      "src": "assets/icons/icon-72x72.png",
      "sizes": "72x72",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-96x96.png",
      "sizes": "96x96",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-128x128.png",
      "sizes": "128x128",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-144x144.png",
      "sizes": "144x144",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-152x152.png",
      "sizes": "152x152",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-384x384.png",
      "sizes": "384x384",
      "type": "image/png"
    },
    {
      "src": "assets/icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
  `;
  util.escreveArquivo(`${angularPath}/manifest.json`, src, `utf8`);
}




function geraproject_src_polyfills_ts(project, angularPath) {
  let src = `
  /**
   * This file includes polyfills needed by Angular and is loaded before the app.
   * You can add your own extra polyfills to this file.
   *
   * This file is divided into 2 sections:
   *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.
   *   2. Application imports. Files imported after ZoneJS that should be loaded before your main
   *      file.
   *
   * The current setup is for so-called "evergreen" browsers; the last versions of browsers that
   * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),
   * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.
   *
   * Learn more in https://angular.io/guide/browser-support
   */
  
  /***************************************************************************************************
   * BROWSER POLYFILLS
   */
  
  /** IE10 and IE11 requires the following for NgClass support on SVG elements */
  // import 'classlist.js';  // Run \`npm install --save classlist.js\`.
  
  /**
   * Web Animations \`@angular/platform-browser/animations\`
   * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.
   * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).
   */
  // import 'web-animations-js';  // Run \`npm install --save web-animations-js\`.
  
  /**
   * By default, zone.js will patch all possible macroTask and DomEvents
   * user can disable parts of macroTask/DomEvents patch by setting following flags
   * because those flags need to be set before \`zone.js\` being loaded, and webpack
   * will put import in the top of bundle, so user need to create a separate file
   * in this directory (for example: zone-flags.ts), and put the following flags
   * into that file, and then add the following code before importing zone.js.
   * import './zone-flags.ts';
   *
   * The flags allowed in zone-flags.ts are listed here.
   *
   * The following flags will work for all browsers.
   *
   * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame
   * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick
   * (window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames
   *
   *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js
   *  with the following flag, it will bypass \`zone.js\` patch for IE/Edge
   *
   *  (window as any).__Zone_enable_cross_context_check = true;
   *
   */
  
  /***************************************************************************************************
   * Zone JS is required by default for Angular itself.
   */
  import 'zone.js/dist/zone';  // Included with Angular CLI.
  
  
  /***************************************************************************************************
   * APPLICATION IMPORTS
   */  

  `;
  util.escreveArquivo(`${angularPath}/src//polyfills.ts`, src, `utf8`);
}




function geraproject_src_styles_css(project, angularPath) {
  let src = `
  /* You can add global styles to this file, and also import other style files */

  html, body { height: 100%; }
  body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }
  main, mat-drawer-container {
    height: 100%;
  }
  
  .main-mat-toolbar-row {
    display: flex;
    justify-content: space-between;
  }
  div.toolbar-info {
    font-size: 15px;
    font-weight: 100;
    padding: 13px;
  }
  div.toolbar-info > span {
    padding-left: 20px;
  }
  .main-header-image {
    background-image: url('https://material.angular.io/assets/img/examples/shiba1.jpg');
    background-size: cover;
    margin: 10px;
  }
  .main-sidenav-content {
    display: flex;
    flex-direction: column;
  }
  
  `;
  util.escreveArquivo(`${angularPath}/src/styles.css`, src, `utf8`);
}




function geraproject_src_test_ts(project, angularPath) {
  let src = `
// This file is required by karma.conf.js and loads recursively all the .spec and framework files

import 'zone.js/dist/zone-testing';
import { getTestBed } from '@angular/core/testing';
import {
  BrowserDynamicTestingModule,
  platformBrowserDynamicTesting
} from '@angular/platform-browser-dynamic/testing';

declare const require: any;

// First, initialize the Angular testing environment.
getTestBed().initTestEnvironment(
  BrowserDynamicTestingModule,
  platformBrowserDynamicTesting()
);
// Then we find all the tests.
const context = require.context('./', true, /\.spec\.ts\$/);
// And load the modules.
context.keys().map(context);

  `;
  util.escreveArquivo(`${angularPath}/src//test.ts`, src, `utf8`);
}




function geraproject_src_tsconfig_app_json(project, angularPath) {
  let src = `
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/app",
    "types": []
  },
  "files": [
    "src/main.ts",
    "src/polyfills.ts"
  ],
  "include": [
    "src/**/*.ts"
  ],
  "exclude": [
    "src/test.ts",
    "src/**/*.spec.ts"
  ]
}

  `;
  util.escreveArquivo(`${angularPath}/tsconfig.app.json`, src, `utf8`);
}




function geraproject_src_tsconfig_spec_json(project, angularPath) {
  let src = `
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/spec",
    "types": [
      "jasmine",
      "node"
    ]
  },
  "files": [
    "src/test.ts",
    "src/polyfills.ts"
  ],
  "include": [
    "src/**/*.spec.ts",
    "src/**/*.d.ts"
  ]
}

  `;
  util.escreveArquivo(`${angularPath}/tsconfig.spec.json`, src, `utf8`);
}




function geraproject_src_tslint_json(project, angularPath) {
  let src = `
{
  "extends": "tslint:recommended",
  "rules": {
    "array-type": false,
    "arrow-parens": false,
    "deprecation": {
      "severity": "warning"
    },
    "component-class-suffix": true,
    "contextual-lifecycle": true,
    "directive-class-suffix": true,
    "directive-selector": [
      true,
      "attribute",
      "app",
      "camelCase"
    ],
    "component-selector": [
      true,
      "element",
      "app",
      "kebab-case"
    ],
    "import-blacklist": [
      true,
      "rxjs/Rx"
    ],
    "interface-name": false,
    "max-classes-per-file": false,
    "max-line-length": [
      true,
      140
    ],
    "member-access": false,
    "member-ordering": [
      true,
      {
        "order": [
          "static-field",
          "instance-field",
          "static-method",
          "instance-method"
        ]
      }
    ],
    "no-consecutive-blank-lines": false,
    "no-console": [
      true,
      "debug",
      "info",
      "time",
      "timeEnd",
      "trace"
    ],
    "no-empty": false,
    "no-inferrable-types": [
      true,
      "ignore-params"
    ],
    "no-non-null-assertion": true,
    "no-redundant-jsdoc": true,
    "no-switch-case-fall-through": true,
    "no-var-requires": false,
    "object-literal-key-quotes": [
      true,
      "as-needed"
    ],
    "object-literal-sort-keys": false,
    "ordered-imports": false,
    "quotemark": [
      true,
      "single"
    ],
    "trailing-comma": false,
    "no-conflicting-lifecycle": true,
    "no-host-metadata-property": true,
    "no-input-rename": true,
    "no-inputs-metadata-property": true,
    "no-output-native": true,
    "no-output-on-prefix": true,
    "no-output-rename": true,
    "no-outputs-metadata-property": true,
    "template-banana-in-box": true,
    "template-no-negated-async": true,
    "use-lifecycle-interface": true,
    "use-pipe-transform-interface": true
  },
  "rulesDirectory": [
    "codelyzer"
  ]
}
  

  `;
  util.escreveArquivo(`${angularPath}/src//tslint.json`, src, `utf8`);
}




function geraproject_tsconfig_json(project, angularPath) {
  let src = `
{
  "compileOnSave": false,
  "compilerOptions": {
    "baseUrl": "./",
    "outDir": "./dist/out-tsc",
    "sourceMap": true,
    "declaration": false,
    "downlevelIteration": true,
    "experimentalDecorators": true,
    "module": "esnext",
    "moduleResolution": "node",
    "importHelpers": true,
    "target": "es2015",
    "typeRoots": [
      "node_modules/@types"
    ],
    "lib": [
      "es2018",
      "dom"
    ]
  },
  "angularCompilerOptions": {
    "fullTemplateTypeCheck": true,
    "strictInjectionParameters": true
  }
}

  `;
  util.escreveArquivo(`${angularPath}/tsconfig.json`, src, `utf8`);
}




function geraproject_tslint_json(project, angularPath) {
  let src = `
{
  "extends": "tslint:recommended",
  "rules": {
    "array-type": false,
    "arrow-parens": false,
    "deprecation": {
      "severity": "warning"
    },
    "component-class-suffix": true,
    "contextual-lifecycle": true,
    "directive-class-suffix": true,
    "directive-selector": [
      true,
      "attribute",
      "app",
      "camelCase"
    ],
    "component-selector": [
      true,
      "element",
      "app",
      "kebab-case"
    ],
    "import-blacklist": [
      true,
      "rxjs/Rx"
    ],
    "interface-name": false,
    "max-classes-per-file": false,
    "max-line-length": [
      true,
      140
    ],
    "member-access": false,
    "member-ordering": [
      true,
      {
        "order": [
          "static-field",
          "instance-field",
          "static-method",
          "instance-method"
        ]
      }
    ],
    "no-consecutive-blank-lines": false,
    "no-console": [
      true,
      "debug",
      "info",
      "time",
      "timeEnd",
      "trace"
    ],
    "no-empty": false,
    "no-inferrable-types": [
      true,
      "ignore-params"
    ],
    "no-non-null-assertion": true,
    "no-redundant-jsdoc": true,
    "no-switch-case-fall-through": true,
    "no-var-requires": false,
    "object-literal-key-quotes": [
      true,
      "as-needed"
    ],
    "object-literal-sort-keys": false,
    "ordered-imports": false,
    "quotemark": [
      true,
      "single"
    ],
    "trailing-comma": false,
    "no-conflicting-lifecycle": true,
    "no-host-metadata-property": true,
    "no-input-rename": true,
    "no-inputs-metadata-property": true,
    "no-output-native": true,
    "no-output-on-prefix": true,
    "no-output-rename": true,
    "no-outputs-metadata-property": true,
    "template-banana-in-box": true,
    "template-no-negated-async": true,
    "use-lifecycle-interface": true,
    "use-pipe-transform-interface": true
  },
  "rulesDirectory": [
    "codelyzer"
  ]
}
  

  `;
  util.escreveArquivo(`${angularPath}/tslint.json`, src, `utf8`);
}










function geraalert_message_ts(project, angularPath) {
  let src = `
  
  export class AlertMessage {
  
      private message: string;
      private description: string;
      private type: string;
      private cssClass: string;
      public show: boolean;
  
      constructor() {
          this.show = false;
      }
  
      public createErrorAlert(msg: string, description: string) {
          this.description = description;
          this.message = msg;
          this.cssClass = "alert-danger";
          this.type = "error";
          this.show = true;
          return this;
      }
  
      public createSuccessAlert(msg: string, description: string) {
          this.description = description;
          this.message = msg;
          this.cssClass = "alert-success";
          this.type = "success";
          this.show = true;
          return this;
      }
  
      public createWarningAlert(msg: string, description: string) {
          this.description = description;
          this.message = msg;
          this.cssClass = "alert-warning";
          this.type = "warning";
          this.show = true;
          return this;
      }
  
      public get \$description(): string {
          return this.description;
      }
  
      public get \$message(): string {
          return this.message;
      }
  
      public get \$type(): string {
          return this.type;
      }
  
      public get \$cssClass(): string {
          return this.cssClass;
      }
  
  }
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components//alert-message.ts`, src, `utf8`);
}




function gerabase_entity_ts(project, angularPath) {
  let src = `
  export class BaseEntity {
      id: string;
      oi: string;
      gi: string;
      ui: string;
      rights: number;
      extra: string;
      cd: string;
      ud: string;
      active: boolean;
      version: number;
      r: String;
  
  
      /* nao funcionou....
          public isOwner(): boolean {
              return this.r.charAt[0] !== '_';
          }
          public commonGroup(): boolean {
              return this.r.charAt[1] !== '_';
          }
          public canRead(): boolean {
              return this.r.charAt[2] !== '_';
          }
          public canUpdate(): boolean {
              return this.r.charAt[3] !== '_';
          }
          public canDelete(): boolean {
              return this.r.charAt[4] !== '_';
          }
        */
  
  }
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum//base-entity.ts`, src, `utf8`);
}




function geranaoexiste_component_css(project, angularPath) {
  let src = `
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/naoexiste//naoexiste.component.css`, src, `utf8`);
}




function geranaoexiste_component_html(project, angularPath) {
  let src = `
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
    <h1 class="h2">Recurso Inexistente</h1>
  </div>
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/naoexiste//naoexiste.component.html`, src, `utf8`);
}




function geranaoexiste_component_spec_ts(project, angularPath) {
  let src = `
  import { async, ComponentFixture, TestBed } from '@angular/core/testing';
  
  import { NaoexisteComponent } from './naoexiste.component';
  
  describe('NaoexisteComponent', () => {
    let component: NaoexisteComponent;
    let fixture: ComponentFixture<NaoexisteComponent>;
  
    beforeEach(async(() => {
      TestBed.configureTestingModule({
        declarations: [ NaoexisteComponent ]
      })
      .compileComponents();
    }));
  
    beforeEach(() => {
      fixture = TestBed.createComponent(NaoexisteComponent);
      component = fixture.componentInstance;
      fixture.detectChanges();
    });
  
    it('should create', () => {
      expect(component).toBeTruthy();
    });
  });
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/naoexiste//naoexiste.component.spec.ts`, src, `utf8`);
}




function geranaoexiste_component_ts(project, angularPath) {
  let src = `
  import { Component, OnInit } from '@angular/core';
  
  @Component({
    selector: 'app-naoexiste',
    templateUrl: './naoexiste.component.html',
    styleUrls: ['./naoexiste.component.css']
  })
  export class NaoexisteComponent implements OnInit {
  
    constructor() { }
  
    ngOnInit() {
    }
  
  }
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/naoexiste//naoexiste.component.ts`, src, `utf8`);
}




function geraprincipal_component_css(project, angularPath) {
  let src = `
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/principal//principal.component.css`, src, `utf8`);
}




function geraprincipal_component_html(project, angularPath) {
  let src = `
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
    <h1 class="h2">Sistema ${project.description.title}</h1>
  </div>
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/principal//principal.component.html`, src, `utf8`);
}




function geraprincipal_component_spec_ts(project, angularPath) {
  let src = `
  import { async, ComponentFixture, TestBed } from '@angular/core/testing';
  
  import { PrincipalComponent } from './principal.component';
  
  describe('PrincipalComponent', () => {
    let component: PrincipalComponent;
    let fixture: ComponentFixture<PrincipalComponent>;
  
    beforeEach(async(() => {
      TestBed.configureTestingModule({
        declarations: [ PrincipalComponent ]
      })
      .compileComponents();
    }));
  
    beforeEach(() => {
      fixture = TestBed.createComponent(PrincipalComponent);
      component = fixture.componentInstance;
      fixture.detectChanges();
    });
  
    it('should create', () => {
      expect(component).toBeTruthy();
    });
  });
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/principal//principal.component.spec.ts`, src, `utf8`);
}




function geraprincipal_component_ts(project, angularPath) {
  let src = `
  import { Component, OnInit } from '@angular/core';
  
  @Component({
    selector: 'app-principal',
    templateUrl: './principal.component.html',
    styleUrls: ['./principal.component.css']
  })
  export class PrincipalComponent implements OnInit {
  
    constructor() { }
  
    ngOnInit() {
    }
  
  }
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum/principal//principal.component.ts`, src, `utf8`);
}




function gerasuper_detalhes_ts(project, angularPath) {
  let src = `
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { Location } from '@angular/common';
import { SuperService } from './super-service';
import { BaseEntity } from "./base-entity";
import { VicReturn } from './vic-return';
import { AlertMessage } from '../alert-message';
import {switchMap} from "rxjs/operators";


export class SuperDetalhesComponent implements OnInit {

  selecionado: BaseEntity;
  erro = undefined;
  msg: AlertMessage;
  drawsvg: string;

  constructor(protected service: SuperService, protected router: Router, protected route: ActivatedRoute) {
    this.msg = new AlertMessage();
  }


  ngOnInit() {

    this.route.params
      .pipe(switchMap((params: Params) => this.service.getOne(params['id'])))
      .subscribe((objeto) => {
        this.beforeSelect(objeto);
        this.selecionado = objeto;
        this.initForm();
        this.drawsvg = this.service.drawsvglink(objeto);
      });
  }

  initForm() { }

  beforeSelect(obj: BaseEntity) {

  }


  salvar() {
    this.service.update(this.selecionado)
      .then(salvo => {
        this.selecionado = salvo;
        this.router.navigate(['../..'], { relativeTo: this.route });
      })
      .catch(erro => {
        this.erro = erro;
      });
  }

  salvarImediatamente() {
    this.service.update(this.selecionado)
      .then(salvo => {
        this.selecionado = salvo;
      })
      .catch(erro => {
        this.erro = erro;
      });
  }


  cancelar() {
    this.router.navigate(['../..'], { relativeTo: this.route });
  }
  excluir() {
    this.service.remove(this.selecionado.id)
      .then(obj => {
        this.selecionado = obj;
        this.router.navigate(['../..'], { relativeTo: this.route });
      })
      .catch(erro => {
        //erro = { message: "Impossível Excluir", description: "Este registro está sendo usado" }
        //console.log(erro);
        //this.erro = erro;
        this.msg.createErrorAlert("Impossível Excluir", "Este registro está sendo usado");
      });
  }

  public isOwner(obj): boolean {
    return obj && (obj.r.charAt(0) !== '_');
  }
  public commonGroup(obj): boolean {
    return obj && (obj.r.charAt(1) !== '_');
  }
  public canRead(obj): boolean {
    return obj && (obj.r.charAt(2) !== '_');
  }
  public canUpdate(obj): boolean {
    return obj && (obj.r.charAt(3) !== '_');
  }
  public canDelete(obj): boolean {
    return obj && (obj.r.charAt(4) !== '_');
  }

  public isNew(obj): boolean {
    return obj && obj.version === null;
  }

  public notNew(obj): boolean {
    return obj && obj.version !== null;
  }
}
  
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum//super-detalhes.ts`, src, `utf8`);
}




function gerasuper_lista_ts(project, angularPath) {
  let src = `
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { SuperService } from './super-service';
import { BaseEntity } from "./base-entity";
import { VicReturn } from './vic-return';
import { AlertMessage } from '../alert-message';


export class SuperListaComponent implements OnInit {

    pesquisa = "";
    //erro = undefined;
    resposta: VicReturn = new VicReturn();
    colunas = [{ active: true, comparisonOperator: "EQUAL", field: "id", label: "ID", pedacos: ["id"] }];
    consulta = { hql: "obj.id > '_pesquisa' ", orderBy: "id" };
    msg: AlertMessage;

    constructor(protected service: SuperService, protected router: Router, protected route: ActivatedRoute) {
        this.msg = new AlertMessage();
    }

    ngOnInit() {
        this.pesquisar();
    }

    selecionouDescelecionouColuna(coluna) {
        this.pesquisar();
    }

    verificaEnter(evento) {
        if (evento.keyCode === 13) {
            this.pesquisar();
        }
    }

    goDetalhes(id: string) {
        this.router.navigate(['detalhes', id], { relativeTo: this.route });
    }

    novo() {
        this.router.navigate(['detalhes', 'new'], { relativeTo: this.route });
    }

    criaConsulta() {
        let q = {
            query: {
                logicalOperator: "OR",
                subQuerys: [],
                joins: [],

            },
            firstResult: 0,
            quantity: 20,
            orderBy: "id"
        };
        q.orderBy = this.colunas[0].field;
        this.colunas.forEach(coluna => {
            if (coluna.active) {
                let f = "";
                let t = coluna.pedacos.length;
                if (coluna.pedacos.length === 1) {
                    f = "obj." + coluna.pedacos[0];
                }
                else {
                    f = coluna.pedacos[t - 2] + '.' + coluna.pedacos[t - 1];
                }
                q.query.subQuerys.push({ criteria: { comparisonOperator: coluna.comparisonOperator, field: f, value: this.pesquisa } });

                if (t > 1) {
                    let tt = "obj";
                    for (let i = 0; i < t - 1; i++) {
                        tt += "." + coluna.pedacos[i];
                    }
                    tt += " " + coluna.pedacos[t - 2];
                    let o = { type: 'LEFT', table: tt };

                    if (q.query.joins.findIndex(j => j.type === o.type && j.table === o.table) < 0) {
                        q.query.joins.push(o);
                    }
                }

            }
        });
        return q;
    }

    pesquisar() {
        let consulta = this.criaConsulta();
        this.service.vquery(consulta)
            .then(r => {
                this.resposta = r;
            })
            .catch(erro => {
                //this.erro = erro;
                this.msg.createErrorAlert("", erro);
            });
    }


    carregarMais() {
        let consulta = this.criaConsulta();
        consulta.firstResult = this.resposta.firstResult + this.resposta.quantity;
        this.service.vquery(consulta)
            .then(r => {
                this.resposta.values = this.resposta.values.concat(r.values);
                this.resposta.firstResult = r.firstResult;
                this.resposta.quantity = r.quantity;
                this.resposta.hasMore = r.hasMore;
            })
            .catch(erro => {
                //this.erro = erro;
                this.msg.createErrorAlert("", erro);
            });
    }



    public isOwner(obj): boolean {
        return obj && (obj.r.charAt(0) !== '_');
    }
    public commonGroup(obj): boolean {
        return obj && (obj.r.charAt(1) !== '_');
    }
    public canRead(obj): boolean {
        return obj && (obj.r.charAt(2) !== '_');
    }
    public canUpdate(obj): boolean {
        return obj && (obj.r.charAt(3) !== '_');
    }
    public canDelete(obj): boolean {
        return obj && (obj.r.charAt(4) !== '_');
    }

    public isNew(obj): boolean {
        return obj.version === null;
    }

    public notNew(obj): boolean {
        return obj.version !== null;
    }


}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum//super-lista.ts`, src, `utf8`);
}




function gerasuper_service_ts(project, angularPath) {
  let src = `
import { Http, Headers, Response } from '@angular/http';
import { LoginService } from '../../login/login.service';
import { Injector } from '@angular/core';

export class SuperService {


  public baseUrl = '';
  protected collection = '';
  protected http: Http;

  constructor(colecao: string, http: Http) {
    this.http = http;
    this.collection = colecao;
    this.baseUrl = LoginService.BASE_URL;
  }


  errorHandler = error => {
    return Promise.reject(error.json());
  }

  createAuthorizationHeader(): Headers {
    let headers = new Headers();
    headers.append('authorization', LoginService.ins.token.value);
    headers.append('group', LoginService.ins.groupAtual.code);
    return headers;

  }

  add(objeto) {
    return this.http.post(\`\${this.baseUrl}/\${this.collection}\`, objeto, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  vquery(objeto) {
    return this.http.post(\`\${this.baseUrl}/\${this.collection}/vquery\`, objeto, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  singleLikeCriteriaQuery(field, pesquisa) {
    let consulta = this.criaConsulta([{ active: true, comparisonOperator: 'STARTS_WITH', field: field }], pesquisa);
    consulta.maxResults = 10000;
    return this.http.post(\`\${this.baseUrl}/\${this.collection}/vquery\`, consulta
      , { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }


  getAll(): Promise<any> {
    return this.http.get(\`\${this.baseUrl}/\${this.collection}\`, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  getOne(id): Promise<any> {
    return this.http.get(\`\${this.baseUrl}/\${this.collection}/\${id}\`, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  newObject(): Promise<any> {
    return this.http.get(\`\${this.baseUrl}/\${this.collection}/new\`, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  remove(id) {
    return this.http.delete(\`\${this.baseUrl}/\${this.collection}/\${id}\`, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  update(objeto) {
    return this.http.put(\`\${this.baseUrl}/\${this.collection}/\${objeto.id}\`, objeto, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  save(objeto) {
    return this.http.post(\`\${this.baseUrl}/\${this.collection}\`, objeto, { headers: this.createAuthorizationHeader() })
      .toPromise().then(response => response.json())
      .catch(this.errorHandler);
  }

  criaConsulta(colunas, pesquisa) {
    let q = {
      query: {
        logicalOperator: "OR",
        subQuerys: [],
        joins: [],
      },
      orderBy: "id",
      maxResults: 20
    };
    q.orderBy = colunas[0].field;
    colunas.forEach(coluna => {
      if (coluna.active) {
        q.query.subQuerys.push({ criteria: { comparisonOperator: coluna.comparisonOperator, field: coluna.field, value: pesquisa } });
      }
    });
    return q;
  }

  drawsvglink(objeto) {
    return \`\${this.baseUrl}/\${this.collection}/draw/\${objeto.id}\`;
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum//super-service.ts`, src, `utf8`);
}




function geravic_return_ts(project, angularPath) {
  let src = `
import { BaseEntity } from "./base-entity";


export class VicReturn {

    values: BaseEntity[];
    quantity: number;
    firstResult: number;
    hasMore: boolean;

    constructor(b: BaseEntity[] = []) {
        this.values = b;
        this.quantity = b.length;
        this.firstResult = 0;
        this.hasMore = false;
    }
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/comum//vic-return.ts`, src, `utf8`);
}




function geragroup_ts(project, angularPath) {
  let src = `
  export interface Grupo {
      id: string;
      extra: string;
      version: number;
      name: string;
      code: string;
  }
  
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/domain//group.ts`, src, `utf8`);
}




function geraorganization_ts(project, angularPath) {
  let src = `
  
  export interface Organizacao {
      id: string;
      extra: string;
      version: number;
      name: string;
      code: string;
      upper?: Organizacao;
  }
  
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/domain//organization.ts`, src, `utf8`);
}




function geratoken_ts(project, angularPath) {
  let src = `
import { Usuario } from "./user";

export interface Token {
    id: string;
    extra: string;
    version: number;
    value: string;
    user: Usuario;
    expiracao: number;
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/domain//token.ts`, src, `utf8`);
}




function gerauser_ts(project, angularPath) {
  let src = `
import { Grupo } from "./group";
import { Organizacao } from "./organization";

export interface Usuario {
    id: string;
    extra: string;
    version: number;
    login: string;
    password: string;
    groups: Grupo[];
    organization: Organizacao;
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/domain//user.ts`, src, `utf8`);
}




function geraexcluir_atributos_sistema_pipe_spec_ts(project, angularPath) {
  let src = `
import { ExcluirAtributosSistemaPipe } from './excluir-atributos-sistema.pipe';

describe('ExcluirAtributosSistemaPipe', () => {
  it('create an instance', () => {
    const pipe = new ExcluirAtributosSistemaPipe();
    expect(pipe).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components//excluir-atributos-sistema.pipe.spec.ts`, src, `utf8`);
}




function geraexcluir_atributos_sistema_pipe_ts(project, angularPath) {
  let src = `
import { Pipe, PipeTransform } from '@angular/core';
import { BaseEntity } from '../vic-components/comum/base-entity';

@Pipe({
  name: 'excluirAtributosSistema'
})
export class ExcluirAtributosSistemaPipe implements PipeTransform {

  transform(values: any[], arg1: string = 'id'): any {
    if (values) {
      return values.map(obj => obj[arg1]);
    }
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components//excluir-atributos-sistema.pipe.ts`, src, `utf8`);
}




function geravic_components_module_ts(project, angularPath) {
  let src = `
import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule, ReactiveFormsModule }   from '@angular/forms';
import { VicTabelaComponent } from './vic-tabela/vic-tabela.component';
import { VicSystemFieldsComponent } from './vic-system-fields/vic-system-fields.component';
import { VicManyToOneComponent } from './vic-many-to-one/vic-many-to-one.component';
import { VicManyToManyComponent } from './vic-many-to-many/vic-many-to-many.component';
import { ExcluirAtributosSistemaPipe } from './excluir-atributos-sistema.pipe';
import { VicOneToManyComponent } from './vic-one-to-many/vic-one-to-many.component';
import { BrowserModule } from '@angular/platform-browser';


@NgModule({
  imports: [
    CommonModule,FormsModule,
    BrowserModule,    
    ReactiveFormsModule 

  ],
  declarations: [VicTabelaComponent, VicSystemFieldsComponent, VicManyToOneComponent, VicManyToManyComponent, ExcluirAtributosSistemaPipe, VicOneToManyComponent],
  exports:[VicTabelaComponent,VicSystemFieldsComponent,VicManyToOneComponent, VicManyToManyComponent, ExcluirAtributosSistemaPipe, VicOneToManyComponent]

})
export class VicComponentsModule { }
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components//vic-components.module.ts`, src, `utf8`);
}




function geravic_many_to_many_component_css(project, angularPath) {
  let src = `
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-many//vic-many-to-many.component.css`, src, `utf8`);
}




function geravic_many_to_many_component_html(project, angularPath) {
  let src = `
  <p>
    vic-many-to-many works!
  </p>
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-many//vic-many-to-many.component.html`, src, `utf8`);
}




function geravic_many_to_many_component_spec_ts(project, angularPath) {
  let src = `
import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { VicManyToManyComponent } from './vic-many-to-many.component';

describe('VicManyToManyComponent', () => {
  let component: VicManyToManyComponent;
  let fixture: ComponentFixture<VicManyToManyComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      declarations: [ VicManyToManyComponent ]
    })
    .compileComponents();
  }));

  beforeEach(() => {
    fixture = TestBed.createComponent(VicManyToManyComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-many//vic-many-to-many.component.spec.ts`, src, `utf8`);
}




function geravic_many_to_many_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
import { BaseEntity } from '../../vic-components/comum/base-entity';
import { SuperService } from '../../vic-components/comum/super-service';
import { FormGroup } from '@angular/forms';

@Component({
  selector: 'vic-many-to-many',
  template: \`
  <div *ngFor="let opcao of opcoes">
    <input type="checkbox"  name="tt" [(ngModel)]="op[opcao.id].status" (change)="mudou()" >{{opcao[atributoLabel]}}
    </div>
  \`,
  styleUrls: ['./vic-many-to-many.component.css']
})
export class VicManyToManyComponent implements OnInit {

  op = {};

  opcoes: BaseEntity[];

  @Input() valor: BaseEntity[];
  @Output() valorChange = new EventEmitter<BaseEntity[]>();

  @Input() service: SuperService;
  @Input() atributoLabel: string;
  @Input() group : FormGroup;

  constructor() { }

  ngOnInit() {
    this.service.vquery({ orderBy: this.atributoLabel })
      .then(r => {
        this.opcoes = r.values;
        for (let i = 0; i < this.opcoes.length; i++) {
          this.op[this.opcoes[i].id] = { status: false, obj: this.opcoes[i] };
        }
        if (this.valor) {
          for (let i = 0; i < this.valor.length; i++) {
            this.op[this.valor[i].id].status = true;
          }
        }
      });
  }

  mudou() {
    this.valor = [];
    for (let i = 0; i < this.opcoes.length; i++) {
      if (this.op[this.opcoes[i].id].status) {
        this.valor.push(this.op[this.opcoes[i].id].obj);
      }
    }

    this.group.markAsDirty();
    this.valorChange.emit(this.valor);
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-many//vic-many-to-many.component.ts`, src, `utf8`);
}




function geravic_many_to_one_component_css(project, angularPath) {
  let src = `
  
  
  .cinza{
      background-color: darkgray;
  }
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-one//vic-many-to-one.component.css`, src, `utf8`);
}




function geravic_many_to_one_component_html(project, angularPath) {
  let src = `
  
    vic-many-to-one works!
  
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-one//vic-many-to-one.component.html`, src, `utf8`);
}




function geravic_many_to_one_component_spec_ts(project, angularPath) {
  let src = `
import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { VicManyToOneComponent } from './vic-many-to-one.component';

describe('VicManyToOneComponent', () => {
  let component: VicManyToOneComponent;
  let fixture: ComponentFixture<VicManyToOneComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      declarations: [ VicManyToOneComponent ]
    })
    .compileComponents();
  }));

  beforeEach(() => {
    fixture = TestBed.createComponent(VicManyToOneComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-one//vic-many-to-one.component.spec.ts`, src, `utf8`);
}




function geravic_many_to_one_component_ts(project, angularPath) {
  let src = `
  
import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
import { BaseEntity } from '../../vic-components/comum/base-entity';
import { SuperService } from '../../vic-components/comum/super-service';
import { FormGroup } from '@angular/forms';

@Component({
  selector: 'vic-many-to-one',
  //templateUrl: './vic-many-to-one.component.html',
  template: \`  
  
  <div class="input-group" [formGroup]="group" >
  <select [compareWith]="byId" [ngModel]="valor" (ngModelChange)="onValorChange(\$event)" class="form-control" (keydown)="filtra(\$event)"
    [formControlName]="nameNoForm" >
    
    <option value> Nenhum </option>
    <option *ngFor="let opcao of opcoes" [ngValue]="opcao">{{resolve(opcao,atributoLabel)}} </option>


  </select>
  <span class="input-group-addon cinza">{{this.atributoLabel}}:{{filtro}}%</span>
</div>
  
  \`,
  styleUrls: ['./vic-many-to-one.component.css']
})
export class VicManyToOneComponent implements OnInit {

  opcoes: BaseEntity[];
  filtro = "";

  @Input() valor: BaseEntity;
  @Output() valorChange = new EventEmitter<BaseEntity>();

  @Input() service: SuperService;
  @Input() atributoLabel: string;
  @Input() nameNoForm: string;
  @Input() group: FormGroup;

  constructor() { }

  ngOnInit() {
    this.atualiza();
  }

  atualiza() {
    this.service.singleLikeCriteriaQuery(this.atributoLabel, this.filtro).then(r => this.opcoes = r.values);
  }

  onValorChange(obj: BaseEntity) {

    if (obj && obj.id) {
      this.valor = obj;
    }
    else {
      this.valor = null;
    }

    this.valorChange.emit(this.valor);
  }

  byId(o1: BaseEntity, o2: BaseEntity) {
    if (!o1 || !o2) {
      return false;
    }
    return o1.id === o2.id;
  }

  filtra(event) {
    if (event.keyCode === 46) {
      this.filtro = "";
    }
    else if (event.keyCode === 8 && this.filtro.length > 0) {
      this.filtro = this.filtro.slice(0, -1);
    }
    else if (event.keyCode >= 48 && event.keyCode <= 90) {
      this.filtro = this.filtro + event.key;
    }
    else {
      //console.log("else ", event.keyCode);
    }
    this.atualiza();
  }

  resolve(obj, coluna: string) {

    let partes = coluna.split(".");
    let o = obj[partes[0]];
    for (let i = 1; i < partes.length; i++) {
      if (o === null) {
        return null;
      }
      if (o === undefined) {
        return undefined;
      }
      o = o[partes[i]];
    }
    return o;
  }
}
  
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-many-to-one//vic-many-to-one.component.ts`, src, `utf8`);
}




function gerasuper_detalhe_om_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
import { SuperService } from '../../vic-components/comum/super-service';
import { BaseEntity } from '../../vic-components/comum/base-entity';
import { VicReturn } from '../../vic-components/comum/vic-return';


export class SuperDetalhesOmComponent implements OnInit {

    protected service: SuperService;

    public selecionado: BaseEntity;

    public setEditando = function (b: boolean) {
        console.log("original" + b);
    }

    erro = undefined;

    constructor(service: SuperService) {
        this.service = service;
    }

    ngOnInit(): void {
    }


    salvar() {
        this.service.update(this.selecionado)
            .then(salvo => {
                this.selecionado = salvo;
                this.setEditando(false);
            })
            .catch(erro => {
                this.erro = erro;
            });
    }

    cancelar() {
        this.setEditando(false);

    }

    excluir() {
        this.service.remove(this.selecionado.id)
            .then(obj => {
                this.selecionado = obj;
                this.setEditando(false);
            })
            .catch(erro => {
                erro = { message: "Impossível Excluir", description: "Este registro está sendo usado" }
                console.log(erro);
                this.erro = erro;
            });
    }
}
  
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-one-to-many//super-detalhe-om.component.ts`, src, `utf8`);
}




function geravic_one_to_many_component_css(project, angularPath) {
  let src = `
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-one-to-many//vic-one-to-many.component.css`, src, `utf8`);
}




function geravic_one_to_many_component_html(project, angularPath) {
  let src = `
  <p>
    vic-one-to-many works!
  </p>
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-one-to-many//vic-one-to-many.component.html`, src, `utf8`);
}




function geravic_one_to_many_component_spec_ts(project, angularPath) {
  let src = `
import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { VicOneToManyComponent } from './vic-one-to-many.component';

describe('VicOneToManyComponent', () => {
  let component: VicOneToManyComponent;
  let fixture: ComponentFixture<VicOneToManyComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      declarations: [ VicOneToManyComponent ]
    })
    .compileComponents();
  }));

  beforeEach(() => {
    fixture = TestBed.createComponent(VicOneToManyComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-one-to-many//vic-one-to-many.component.spec.ts`, src, `utf8`);
}




function geravic_one_to_many_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ViewContainerRef, ComponentRef, ComponentFactoryResolver, ComponentFactory } from '@angular/core';
import { BaseEntity } from '../../vic-components/comum/base-entity';
import { SuperService } from '../../vic-components/comum/super-service';
import { VicReturn } from '../../vic-components/comum/vic-return';



@Component({
  selector: 'vic-one-to-many',
  template: \`
  <div>{{status|json}}</div>
    <div class="container" >
    <vic-tabela  [dados]="dados" [colunas]="colunas" (acao)="edita(\$event)"></vic-tabela>
    </div>
  \`,
  styleUrls: ['./vic-one-to-many.component.css']
})
export class VicOneToManyComponent implements OnInit {


  status = { editando: false };

  @Input() valor: BaseEntity[] = [];
  @Input() service: SuperService;
  @Input() colunas = [{ field: "id", label: "ID" }];
  dados = new VicReturn(this.valor);


  constructor(private resolver: ComponentFactoryResolver) {

  }

  ngOnInit() {

  }

  edita(evento) {
    console.log('VicOneToManyComponent', evento);
  }
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-one-to-many//vic-one-to-many.component.ts`, src, `utf8`);
}




function geravic_system_fields_component_css(project, angularPath) {
  let src = `
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-system-fields//vic-system-fields.component.css`, src, `utf8`);
}




function geravic_system_fields_component_html(project, angularPath) {
  let src = `
  <div *ngIf="entidade">
    <div *ngIf="!aberto">
      <button type="button" class="btn btn-info" (click)="abrir()">Mostrar Atributos do Sistema</button>
    </div>
    <div *ngIf="aberto">
      <button type="button" class="btn btn-info" (click)="fechar()">Esconder Atributos do Sistema</button>
      <div class="alert alert-info" role="alert">
        <div>
          <span>ID: </span>{{entidade.id}}
        </div>
        <div>
          <span>Organização: </span>{{entidade.oi}}
        </div>
        <div>
          <span>Grupo: </span>{{entidade.gi}}
        </div>
        <div>
          <span>Usuário: </span>{{entidade.ui}}
        </div>
        <div>
          <span>Direitos: </span>{{entidade.stringRights}}
        </div>
        <div>
          <span>Extra: </span>{{entidade.extra}}
        </div>
        <div>
          <span>Data Criação: </span>{{entidade.cd}}
        </div>
        <div>
          <span>Data Atualização: </span>{{entidade.ud}} {{entidade.ud-entidade.cd}}
        </div>
        <div>
          <span>Ativo: </span>{{entidade.active}}
        </div>
        <div>
          <span>Versão: </span>{{entidade.version}}
        </div>
      </div>
    </div>
  
  </div>
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-system-fields//vic-system-fields.component.html`, src, `utf8`);
}




function geravic_system_fields_component_spec_ts(project, angularPath) {
  let src = `
import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { VicSystemFieldsComponent } from './vic-system-fields.component';

describe('VicSystemFieldsComponent', () => {
  let component: VicSystemFieldsComponent;
  let fixture: ComponentFixture<VicSystemFieldsComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      declarations: [ VicSystemFieldsComponent ]
    })
    .compileComponents();
  }));

  beforeEach(() => {
    fixture = TestBed.createComponent(VicSystemFieldsComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-system-fields//vic-system-fields.component.spec.ts`, src, `utf8`);
}




function geravic_system_fields_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit, Input } from '@angular/core';

@Component({
  selector: 'vic-system-fields',
  templateUrl: './vic-system-fields.component.html',
  styleUrls: ['./vic-system-fields.component.css']
})
export class VicSystemFieldsComponent implements OnInit {

  @Input() entidade;

  aberto=false;

  constructor() { }

  ngOnInit() {
  }

  abrir(){
    this.aberto=true;
  }
  fechar(){
    this.aberto=false;
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-system-fields//vic-system-fields.component.ts`, src, `utf8`);
}




function geravic_tabela_component_css(project, angularPath) {
  let src = `
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-tabela//vic-tabela.component.css`, src, `utf8`);
}




function geravic_tabela_component_html(project, angularPath) {
  let src = `
  <div class="table-responsive">
    <span *ngIf="selecionaColunas">
      <span *ngFor="let coluna of colunas"  style="padding-right: 10px;">
        <input type="checkbox" name="tt" [(ngModel)]="coluna.active" (change)="mudouColuna(coluna)" style="margin-right: 5px">{{coluna.label}}
      </span>
    </span>
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th *ngIf="todasApagadas()">
            Selecione uma coluna.
          </th>
          <th *ngFor="let coluna of colunasAtivas()">{{coluna.label}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dado of dados.values">
          <td (click)="onClick(dado.id)" *ngFor="let coluna of colunasAtivas()">{{resolve(dado,coluna.field)}}</td>
        </tr>
      </tbody>
    </table>
    <span class="navbar-brand">
      <span class="form-control" *ngIf="dados.hasMore" (click)="carregaMais()"> Carregar mais registros</span>
    </span>
  
  </div>
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-tabela//vic-tabela.component.html`, src, `utf8`);
}




function geravic_tabela_component_spec_ts(project, angularPath) {
  let src = `
import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { VicTabelaComponent } from './vic-tabela.component';

describe('VicTabelaComponent', () => {
  let component: VicTabelaComponent;
  let fixture: ComponentFixture<VicTabelaComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      declarations: [ VicTabelaComponent ]
    })
    .compileComponents();
  }));

  beforeEach(() => {
    fixture = TestBed.createComponent(VicTabelaComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-tabela//vic-tabela.component.spec.ts`, src, `utf8`);
}




function geravic_tabela_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
import { VicReturn } from '../../vic-components/comum/vic-return';
import { BaseEntity } from '../../vic-components/comum/base-entity';

@Component({
  selector: 'vic-tabela',
  templateUrl: './vic-tabela.component.html',
  styleUrls: ['./vic-tabela.component.css']
})
export class VicTabelaComponent implements OnInit {

  @Input() dados: VicReturn = new VicReturn();
  @Input() colunas: any[];
  @Input() selecionaColunas: boolean = true;
  @Output() acao: EventEmitter<any> = new EventEmitter();
  @Output() colunaMudou: EventEmitter<any> = new EventEmitter();
  @Output() carregarMais: EventEmitter<any> = new EventEmitter();

  constructor() { }


  ngOnInit(): void {

  }

  colunasAtivas() {
    return this.colunas.filter(c => c.active);
  }

  onClick(id: string) {
    this.acao.emit(id);
  }

  resolve(obj, coluna: string) {

    let partes = coluna.split(".");
    let o = obj[partes[0]];
    for (let i = 1; i < partes.length; i++) {
      if (o === null) {
        return null;
      }
      if (o === undefined) {
        return undefined;
      }
      o = o[partes[i]];
    }
    return o;
  }

  todasApagadas() {
    return !this.colunas.some(r => r.active);
  }

  carregaMais() {
    this.carregarMais.emit();
  }

  mudouColuna(coluna) {
    this.colunaMudou.emit(coluna);
  }
  public isOwner(obj): boolean {
    return obj && (obj.r.charAt(0) !== '_');
  }
  public commonGroup(obj): boolean {
    return obj && (obj.r.charAt(1) !== '_');
  }
  public canRead(obj): boolean {
    return obj && (obj.r.charAt(2) !== '_');
  }
  public canUpdate(obj): boolean {
    return obj && (obj.r.charAt(3) !== '_');
  }
  public canDelete(obj): boolean {
    return obj && (obj.r.charAt(4) !== '_');
  }

  public isNew(obj): boolean {
    return obj.version === null;
  }

  public notNew(obj): boolean {
    return obj.version !== null;
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/vic-components/vic-tabela//vic-tabela.component.ts`, src, `utf8`);
}




function geralogin_component_css(project, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  .footer{
      float: right !important;
      border: 1px 0px 0px 0px solid black;
      text-align: right;
  }
  
  .margin-bottom{
      margin-bottom: 20px;
  }
    `;
  util.escreveArquivo(`${angularPath}/src/app/login//login.component.css`, src, `utf8`);
}




function geralogin_component_html(project, angularPath) {
  let src = `
  <mat-grid-list cols="1" rowHeight="300px">
  <mat-grid-tile>
    <mat-card class="example-card">
      <mat-card-header>
        <mat-card-title>Login</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form class="example-form" [formGroup]="loginForm">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Username" name="username" formControlName="loginInput" required>
          </mat-form-field>
          <br>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Password" type="password" name="password" formControlName="passwordInput"
                   required>
          </mat-form-field>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="criarUsuario()">Create Account</button>
        <button mat-raised-button (click)="logar()" color="primary">
          <mat-icon [style.display]="showSpinner ? 'inline-block' : 'none'">
            <mat-spinner color="warn" diameter="20"></mat-spinner>
          </mat-icon>
          Login
        </button>
      </mat-card-actions>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>

    `;
  util.escreveArquivo(`${angularPath}/src/app/login//login.component.html`, src, `utf8`);
}




function geralogin_component_spec_ts(project, angularPath) {
  let src = `
import { async, ComponentFixture, TestBed } from '@angular/core/testing';

import { LoginComponent } from './login.component';

describe('LoginComponent', () => {
  let component: LoginComponent;
  let fixture: ComponentFixture<LoginComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      declarations: [ LoginComponent ]
    })
    .compileComponents();
  }));

  beforeEach(() => {
    fixture = TestBed.createComponent(LoginComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/login//login.component.spec.ts`, src, `utf8`);
}




function geralogin_component_ts(project, angularPath) {
  let src = `
import { Component, OnInit } from '@angular/core';
import { LoginService } from './login.service';
import { Router } from '@angular/router';
import { UsuarioService } from '../user/user.service';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { AlertMessage } from '../vic-components/alert-message';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html',
  styleUrls: ['./login.component.css']
})
export class LoginComponent implements OnInit {

  erro = new AlertMessage();;
  loginForm: FormGroup;

  constructor(public loginService: LoginService, private router: Router, public userService: UsuarioService,
    private fb: FormBuilder) {
    this.loginForm = fb.group({
      'loginInput': ['admin@munif.com.br', Validators.compose([Validators.required, Validators.email])],
      'passwordInput': ['qwe123', Validators.compose([Validators.required])]
    });

  }

  ngOnInit() {
  }
  //logar(form) {
  logar() {

    if (!this.loginForm.valid) {
      this.erro.createErrorAlert("Dados inválidos", "Complete as informações e tente novamente");
      return;
    }

    this.loginService.loga(this.loginForm.value.loginInput, this.loginForm.value.passwordInput).then(r => {
      if (r.ok) {
        this.router.navigate([this.loginService.proximaUrl]);
      } else {
        this.erro.createErrorAlert("Login inválido", "Login ou password incorretos. Tente novamente.");
      }
    });
  }

  criarUsuario() {
    if (!this.loginForm.valid) {
      this.erro.createErrorAlert("Dados inválidos", "Complete as informações e tente novamente");
      return;
    }

    this.userService.add({ login: this.loginForm.value.loginInput, password: this.loginForm.value.passwordInput })
      .then(r => {
        this.loginService.loga(this.loginForm.value.loginInput, this.loginForm.value.passwordInput).then(r => {
          if (r.ok) {
            this.router.navigate([this.loginService.proximaUrl]);
          }
        });
      });
  }


  logout() {
    this.loginService.logout().then(r => r);
    this.router.navigate(['/']);
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/login//login.component.ts`, src, `utf8`);
}




function geralogin_service_ts(project, angularPath) {
  let src = `
import { Http, Headers, Response } from '@angular/http';
import { SuperService } from '../vic-components/comum/super-service';
import { Injectable } from '@angular/core';
import { Token } from '../vic-components/domain/token';


@Injectable({
  providedIn: 'root'
})
export class LoginService {

    public static ins: LoginService;;

    public groupAtual: any;

    public proximaUrl: string;

    public logado = false;

    public token: Token;

    public caminho = 'token';

    public static BASE_URL = 'http://127.0.0.1:8080/api';
    //public static BASE_URL = (location.origin + '/api').replace("4200", "8080");


    protected baseUrl = 'http://127.0.0.1:8080/api';

    constructor(protected http: Http) {
        this.baseUrl = LoginService.BASE_URL;
        console.log(this.baseUrl);
        LoginService.ins = this;
    }

    errorHandler = error => {
        return Promise.reject(error.json());
    }

    createAuthorizationHeader(): Headers {
        let headers = new Headers();
        headers.append('authorization', this.token.value);
        return headers;
    }

    loga(login: string, password: string) {
        return this.http.post(\`\${this.baseUrl}/\${this.caminho}/login/bypassword\`, { login, password })
            .toPromise().then(response => {
                let r = response.json();

                if (r.ok) {
                    this.logado = true;
                    this.token = r.token;
                    this.groupAtual = this.token.user.groups[0];
                }
                return r;
            })
            .catch(this.errorHandler);
    }
    logout() {
        this.logado = false;
        this.token = null;
        return this.http.post(\`\${this.baseUrl}/\${this.caminho}/logout\`, { login: null, password: null })
            .toPromise().then(response => {
                this.logado = false;
                this.token = null;
                return response;
            })
            .catch(this.errorHandler);
    }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/login//login.service.ts`, src, `utf8`);
}



function gera_user_crud_crud_component_css(project, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/crud//crud.component.css`, src, `utf8`);
}




function gera_user_crud_crud_component_html(project, angularPath) {
  let src = `
  <!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
  <!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
    <h1 class="h2">Usuario</h1>
  </div>
  <router-outlet></router-outlet>
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/crud//crud.component.html`, src, `utf8`);
}




function gera_user_crud_crud_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
  
@Component({
  selector: 'app-crud',
  templateUrl: './crud.component.html',
  styleUrls: ['./crud.component.css']
})
export class CrudComponent  {

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/crud//crud.component.ts`, src, `utf8`);
}




function gera_user_detalhes_detalhes_component_css(project, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  .footer{
      float: right !important;
      border: 1px 0px 0px 0px solid black;
      text-align: right;
  }
  
  .margin-bottom{
      margin-bottom: 20px;
  }
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/detalhes//detalhes.component.css`, src, `utf8`);
}




function gera_user_detalhes_detalhes_component_html(project, angularPath) {
  let src = `
  <!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
  <!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
  <div class="container">
  
    <div *ngIf="!selecionado">
      Carregando....
    </div>
    <div *ngIf="selecionado">
  
      <div class="alert {{msg.cssClass}}" role="alert" *ngIf="msg.show">
        <strong>{{msg.message}}</strong> {{msg.description}}
        <a (click)="msg.show = false" style="float: right; margin-right: -10px; margin-top: -10px;cursor: pointer;">x</a>
      </div>
      <h2>{{ selecionado.name| uppercase }}</h2>
      <form [formGroup]="detalhesForm">
  
        <div class="row">
  
          <div class="col-sm-12 margin-bottom">
            <label>LOGIN:</label>
            <input type="text" id="idlogin" name="login" placeholder="LOGIN" [(ngModel)]="selecionado.login" formControlName="login"
              class="form-control"  />
            <div class="alert alert-danger" *ngIf="!detalhesForm.controls['login'].valid && detalhesForm.controls['login'].touched" style="margin-top:10px">
              O campo LOGIN é obrigatório.
            </div>
          </div>
  
          <div class="col-sm-12 margin-bottom">
            <label>SENHA:</label>
            <input type="text" id="idpassword" name="password" placeholder="SENHA" [(ngModel)]="selecionado.password" formControlName="password"
              class="form-control"  />
            <div class="alert alert-danger" *ngIf="!detalhesForm.controls['password'].valid && detalhesForm.controls['password'].touched" style="margin-top:10px">
              O campo SENHA é obrigatório.
            </div>
          </div>
  
          <div class="col-sm-12 margin-bottom" *ngIf="(isNew(selecionado)||canUpdate(selecionado)  && mostrar )">
            <label>GRUPOS:</label>
            <vic-many-to-many [(valor)]="selecionado.groups" [service]="groupService" atributoLabel="name" [group]="detalhesForm"></vic-many-to-many>
          </div>
  
          <div class="col-sm-12 margin-bottom">
            <label>ORGANIZACAO:</label>
            <vic-many-to-one [(valor)]="selecionado.organization" [service]="organizationService" atributoLabel="name" [group]="detalhesForm"
              nameNoForm="organization"></vic-many-to-one>
            <div class="alert alert-danger" *ngIf="!detalhesForm.controls['organization'].valid && detalhesForm.controls['organization'].touched"
              style="margin-top:10px">
              O campo ORGANIZACAO é obrigatório.
            </div>
          </div>
          
        </div>
  
        <div class="row">
          <div class="col-sm-6 text-left">
            <button type="button" class="btn btn-danger" (click)="excluir()" [disabled]="isNew(selecionado)||!canDelete(selecionado)">
              <i class="far fa-trash-alt"></i> Excluir
            </button>
          </div>
          <div class="col-sm-6 text-right">
            <button type="button" class="btn btn-info" (click)="voltar()" [disabled]="!detalhesForm.pristine">
              <i class="fas fa-chevron-circle-left"></i> Voltar
            </button>
            <button type="button" class="btn btn-warning" (click)="cancelar()" [disabled]="detalhesForm.pristine">
              <i class="far fa-times-circle"></i> Cancelar
            </button>
  
            <button type="button" class="btn btn-success" (click)="salvar()" [disabled]="(notNew(selecionado)&&!canUpdate(selecionado)) || !detalhesForm.valid || detalhesForm.pristine">
              <i class="far fa-save"></i> Salvar
            </button>
          </div>
        </div>
  
      </form>
    </div>
  </div>
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/detalhes//detalhes.component.html`, src, `utf8`);
}




function gera_user_detalhes_detalhes_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { Location } from '@angular/common';
import { UsuarioService } from '../user.service';
import { OrganizacaoService } from '../../organization/organization.service';
import { GrupoService } from '../../group/group.service';
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperDetalhesComponent } from '../../vic-components/comum/super-detalhes';
import { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';


@Component({
  selector: 'app-detalhes',
  templateUrl: './detalhes.component.html',
  styleUrls: ['./detalhes.component.css']
})
export class DetalhesComponent extends SuperDetalhesComponent {

  detalhesForm: FormGroup;
  mostrar = true;

  constructor(protected service: UsuarioService, protected router: Router, protected route: ActivatedRoute,protected groupService:GrupoService,protected organizationService:OrganizacaoService,protected userService:UsuarioService,
    private fb: FormBuilder, protected location: Location) {
    super(service, router, route);
  }

  initForm() {    
    this.detalhesForm = this.fb.group({
      'login': new FormControl({ value: this.selecionado['login'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }, Validators.compose([Validators.required])),
      'password': new FormControl({ value: this.selecionado['password'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }, Validators.compose([Validators.required])),
      'groups': new FormControl({ value: this.selecionado['groups'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }),
      'organization': new FormControl({ value: this.selecionado['organization'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }, Validators.compose([Validators.required])),
    });
  }


  voltar() {
    this.router.navigate(['../..'], { relativeTo: this.route });
  }

  cancelar() {
    this.mostrar = false;
    this.service.getOne(this.selecionado.version == null ? "new" : this.selecionado.id).then(obj => {
      this.selecionado = obj;
      this.initForm();
      this.mostrar = true;
    })
    
  }

  salvar() {
    this.service.update(this.selecionado)
      .then(salvo => {
        this.selecionado = salvo;
        this.msg.createSuccessAlert("Objeto salvo", "Operação realizada com sucesso");

        this.location.go("nacionalidade/detalhes/" + salvo.id);

        this.initForm();
      })
      .catch(erro => {
        this.msg.createErrorAlert("Erro", erro);
      });
  }
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/detalhes//detalhes.component.ts`, src, `utf8`);
}




function gera_user_lista_lista_component_css(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
.padding-bottom-20{
    padding-bottom: 20px;
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/lista//lista.component.css`, src, `utf8`);
}




function gera_user_lista_lista_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<h2>Lista {{resposta.quantity}} </h2>
<div class="row padding-bottom-20">
    <div class="col-sm-6">
        <input type="text" id="inPesquisa" name="pesquisa" placeholder="Pesquisa" class="form-control" [(ngModel)]="pesquisa" (keypress)="verificaEnter(\$event)"/>
    </div>
    <div class="col-sm-3" >
        <button type="button" class="btn btn-info" (click)="pesquisar()">
            <i class="fas fa-search"></i> Pesquisar </button>
    </div>

    <div class="col-sm-3 text-right">
        <button type="button" class="btn btn-success" (click)="novo()">
            <i class="far fa-file"></i> Novo</button>
    </div>
</div>
<vic-tabela [(dados)]="resposta" [colunas]="colunas" (acao)="goDetalhes(\$event)"></vic-tabela>
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/lista//lista.component.html`, src, `utf8`);
}




function gera_user_lista_lista_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { UsuarioService } from '../user.service';
import { BaseEntity } from "../../vic-components/comum/base-entity";
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperListaComponent } from '../../vic-components/comum/super-lista';


@Component({
  selector: 'app-lista',
  templateUrl: './lista.component.html',
  styleUrls: ['./lista.component.css']
})
export class ListaComponent extends SuperListaComponent {

  colunas = [
    { active: true, comparisonOperator: "STARTS_WITH", field: "login", label: "Login",pedacos: ["login"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "password", label: "Senha",pedacos: ["password"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "organization.name", label: "Organizacao",pedacos: ["organization", "name"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "organization.code", label: "Codigo",pedacos: ["organization", "code"]},
    { active: false, comparisonOperator: "STARTS_WITH", field: "organization.upper.name", label: "Superior",pedacos: ["organization", "upper", "name"]},
    { active: false, comparisonOperator: "STARTS_WITH", field: "organization.upper.code", label: "Codigo",pedacos: ["organization", "upper", "code"]},
  ];

  constructor(protected service: UsuarioService, protected router: Router, protected route: ActivatedRoute) {
    super(service,router,route);
  }
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/user/lista//lista.component.ts`, src, `utf8`);
}




function gera_user_user_routing_module_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';


const routes: Routes = [
  {
    path: 'user', component: CrudComponent,
    children: [
      { path: '', component: ListaComponent },
      { path: 'detalhes/:id', component: DetalhesComponent }
    ]
  }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class UsuarioRoutingModule { }
    `;
  util.escreveArquivo(`${angularPath}/src/app/user//user-routing.module.ts`, src, `utf8`);
}




function gera_user_user_module_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';
import { FormsModule, ReactiveFormsModule }   from '@angular/forms';
import { CommonModule } from '@angular/common';
import { VicComponentsModule } from '../vic-components/vic-components.module';
import { UsuarioRoutingModule } from './user-routing.module';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';
import { BrowserModule } from '@angular/platform-browser';

/*IMPORTS*/

@NgModule({
  imports: [
    CommonModule,
    FormsModule, OwlDateTimeModule, OwlNativeDateTimeModule,
    UsuarioRoutingModule,
    VicComponentsModule,
    BrowserModule,    
    ReactiveFormsModule 
  ],
  declarations: [
/*DECLARATIONS*/
      CrudComponent, 
      ListaComponent, 
      DetalhesComponent
,]
})
export class UsuarioModule { }
    `;
  util.escreveArquivo(`${angularPath}/src/app/user//user.module.ts`, src, `utf8`);
}




function gera_user_user_service_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Injectable } from '@angular/core';
import { Http, Headers, Response } from '@angular/http';
import { SuperService} from '../vic-components/comum/super-service';

@Injectable({
  providedIn: 'root'
})
export class UsuarioService extends SuperService{

  constructor(http:Http) {
    super('user',http);
  }
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/user//user.service.ts`, src, `utf8`);
}




function gera_group_crud_crud_component_css(project, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/crud//crud.component.css`, src, `utf8`);
}




function gera_group_crud_crud_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
  <h1 class="h2">Grupo</h1>
</div>
<router-outlet></router-outlet>
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/crud//crud.component.html`, src, `utf8`);
}




function gera_group_crud_crud_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
  
@Component({
  selector: 'app-crud',
  templateUrl: './crud.component.html',
  styleUrls: ['./crud.component.css']
})
export class CrudComponent  {

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/crud//crud.component.ts`, src, `utf8`);
}




function gera_group_detalhes_detalhes_component_css(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
.footer{
    float: right !important;
    border: 1px 0px 0px 0px solid black;
    text-align: right;
}

.margin-bottom{
    margin-bottom: 20px;
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/detalhes//detalhes.component.css`, src, `utf8`);
}




function gera_group_detalhes_detalhes_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<div class="container">

  <div *ngIf="!selecionado">
    Carregando....
  </div>
  <div *ngIf="selecionado">

    <h2>{{ selecionado.name| uppercase }}</h2>

    <div class="row">

  <div class="col-sm-12 margin-bottom">
    <label>NOME:</label>
      <input type="text" id="idname" name="name" placeholder="NOME" [(ngModel)]="selecionado.name" class="form-control" />
  </div>

  <div class="col-sm-12 margin-bottom">
    <label>CODIGO:</label>
      <input type="text" id="idcode" name="code" placeholder="CODIGO" [(ngModel)]="selecionado.code" class="form-control" />
  </div>

    </div>
    <div class="row">
      <div class="col-sm-6 text-left">
        <button type="button" class="btn btn-danger" (click)="excluir()" *ngIf="selecionado.version !== null">
          <i class="far fa-trash-alt"></i> Excluir
        </button>
      </div>
      <div class="col-sm-6 text-right">
        <button type="button" class="btn btn-warning" (click)="cancelar()">
          <i class="far fa-times-circle"></i> Cancelar
        </button>
        <button type="button" class="btn btn-success" (click)="salvar()">
          <i class="far fa-save"></i> Salvar
        </button>
      </div>
    </div>
    <div class="alert alert-danger" role="alert" *ngIf="erro">
      {{erro|json}}
    </div>
  </div>
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/detalhes//detalhes.component.html`, src, `utf8`);
}




function gera_group_detalhes_detalhes_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { Location } from '@angular/common';
import { GrupoService } from '../group.service';
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperDetalhesComponent } from '../../vic-components/comum/super-detalhes';


@Component({
  selector: 'app-detalhes',
  templateUrl: './detalhes.component.html',
  styleUrls: ['./detalhes.component.css']
})
export class DetalhesComponent extends SuperDetalhesComponent {

  constructor(protected service: GrupoService, protected router: Router, protected route: ActivatedRoute,protected groupService:GrupoService) {
    super(service,router,route);
  }

}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/detalhes//detalhes.component.ts`, src, `utf8`);
}




function gera_group_group_routing_module_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';


const routes: Routes = [
  {
    path: 'group', component: CrudComponent,
    children: [
      { path: '', component: ListaComponent },
      { path: 'detalhes/:id', component: DetalhesComponent }
    ]
  }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class GrupoRoutingModule { }
    `;
  util.escreveArquivo(`${angularPath}/src/app/group//group-routing.module.ts`, src, `utf8`);
}




function gera_group_group_module_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';
import { FormsModule }   from '@angular/forms';
import { CommonModule } from '@angular/common';
import { VicComponentsModule } from '../vic-components/vic-components.module';
import { GrupoRoutingModule } from './group-routing.module';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';

/*IMPORTS*/

@NgModule({
  imports: [
    CommonModule,
    FormsModule, OwlDateTimeModule, OwlNativeDateTimeModule,
    GrupoRoutingModule,
    VicComponentsModule
  ],
  declarations: [
/*DECLARATIONS*/
      CrudComponent, 
      ListaComponent, 
      DetalhesComponent
,]
})
export class GrupoModule { }
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/group//group.module.ts`, src, `utf8`);
}




function gera_group_group_service_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Injectable } from '@angular/core';
import { Http, Headers, Response } from '@angular/http';
import { SuperService} from '../vic-components/comum/super-service';

@Injectable({
  providedIn: 'root'
})
export class GrupoService extends SuperService{

  constructor(http:Http) {
    super('group',http);
  }

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/group//group.service.ts`, src, `utf8`);
}




function gera_group_lista_lista_component_css(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
.padding-bottom-20{
    padding-bottom: 20px;
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/lista//lista.component.css`, src, `utf8`);
}




function gera_group_lista_lista_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<h2>Lista {{resposta.quantity}} </h2>
<div class="row padding-bottom-20">
    <div class="col-sm-6">
        <input type="text" id="inPesquisa" name="pesquisa" placeholder="Pesquisa" class="form-control" [(ngModel)]="pesquisa" (keypress)="verificaEnter(\$event)"/>
    </div>
    <div class="col-sm-3" >
        <button type="button" class="btn btn-info" (click)="pesquisar()">
            <i class="fas fa-search"></i> Pesquisar </button>
    </div>

    <div class="col-sm-3 text-right">
        <button type="button" class="btn btn-success" (click)="novo()">
            <i class="far fa-file"></i> Novo</button>
    </div>
</div>
<vic-tabela [(dados)]="resposta" [colunas]="colunas" (acao)="goDetalhes(\$event)"></vic-tabela>
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/lista//lista.component.html`, src, `utf8`);
}




function gera_group_lista_lista_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { GrupoService } from '../group.service';
import { BaseEntity } from "../../vic-components/comum/base-entity";
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperListaComponent } from '../../vic-components/comum/super-lista';


@Component({
  selector: 'app-lista',
  templateUrl: './lista.component.html',
  styleUrls: ['./lista.component.css']
})
export class ListaComponent extends SuperListaComponent {

  colunas = [
    { active: true, comparisonOperator: "STARTS_WITH", field: "name", label: "Nome",pedacos: ["name"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "code", label: "Codigo",pedacos: ["code"]},
  ];

  constructor(protected service: GrupoService, protected router: Router, protected route: ActivatedRoute) {
    super(service,router,route);
  }

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/group/lista//lista.component.ts`, src, `utf8`);
}




function gera_organization_crud_crud_component_css(project, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/crud//crud.component.css`, src, `utf8`);
}




function gera_organization_crud_crud_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
  <h1 class="h2">Organizacao</h1>
</div>
<router-outlet></router-outlet>
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/crud//crud.component.html`, src, `utf8`);
}




function gera_organization_crud_crud_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
  
@Component({
  selector: 'app-crud',
  templateUrl: './crud.component.html',
  styleUrls: ['./crud.component.css']
})
export class CrudComponent  {

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/crud//crud.component.ts`, src, `utf8`);
}




function gera_organization_detalhes_detalhes_component_css(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
.footer{
    float: right !important;
    border: 1px 0px 0px 0px solid black;
    text-align: right;
}

.margin-bottom{
    margin-bottom: 20px;
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/detalhes//detalhes.component.css`, src, `utf8`);
}




function gera_organization_detalhes_detalhes_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<div class="container">

  <div *ngIf="!selecionado">
    Carregando....
  </div>
  <div *ngIf="selecionado">
    <div class="alert {{msg.cssClass}}" role="alert" *ngIf="msg.show">
      <strong>{{msg.message}}</strong> {{msg.description}}
      <a (click)="msg.show = false" style="float: right; margin-right: -10px; margin-top: -10px;cursor: pointer;">x</a>
    </div>
    <h2>{{ selecionado.name| uppercase }}</h2>
    <form [formGroup]="detalhesForm">
      <div class="row">

        <div class="col-sm-12 margin-bottom">
          <label>NOME:</label>
          <input type="text" id="idname" name="name" placeholder="NOME" formControlName="name" [(ngModel)]="selecionado.name" class="form-control"/>
          <div class="alert alert-danger" *ngIf="!detalhesForm.controls['name'].valid && detalhesForm.controls['name'].touched" style="margin-top:10px">
            O campo NOME é obrigatório.
          </div>
        </div>

        <div class="col-sm-12 margin-bottom">
          <label>CODIGO:</label>
          <input type="text" id="idcode" name="code" placeholder="CODIGO" formControlName="code" [(ngModel)]="selecionado.code"
            class="form-control"  />
          <div class="alert alert-danger" *ngIf="!detalhesForm.controls['code'].valid && detalhesForm.controls['code'].touched"
            style="margin-top:10px">
            O campo CODIGO é obrigatório.
          </div>
        </div>

        <div class="col-sm-12 margin-bottom">
          <label>SUPERIOR:</label>
          <vic-many-to-one [(valor)]="selecionado.upper" [service]="organizationService" atributoLabel="name" [group]="detalhesForm"
            nameNoForm="upper">
          </vic-many-to-one>
          <div class="alert alert-danger" *ngIf="!detalhesForm.controls['upper'].valid && detalhesForm.controls['upper'].touched"
            style="margin-top:10px">
            O campo SUPERIOR é obrigatório.
          </div>
        </div>

      </div>
      <div class="row">
        <div class="col-sm-6 text-left">
          <button type="button" class="btn btn-danger" (click)="excluir()" >
            <i class="far fa-trash-alt"></i> Excluir
          </button>
        </div>
        <div class="col-sm-6 text-right">
          <button type="button" class="btn btn-info" (click)="voltar()" [disabled]="!detalhesForm.pristine">
            <i class="fas fa-chevron-circle-left"></i> Voltar
          </button>
          <button type="button" class="btn btn-warning" (click)="cancelar()" [disabled]="detalhesForm.pristine">
            <i class="far fa-times-circle"></i> Cancelar
          </button>
          <button type="button" class="btn btn-success" (click)="salvar()" [disabled]="(notNew(selecionado)&&!canUpdate(selecionado)) || !detalhesForm.valid || detalhesForm.pristine">
            <i class="far fa-save"></i> Salvar
          </button>
        </div>
      </div>
    </form>
  </div>
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/detalhes//detalhes.component.html`, src, `utf8`);
}




function gera_organization_detalhes_detalhes_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { Location } from '@angular/common';
import { OrganizacaoService } from '../organization.service';
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperDetalhesComponent } from '../../vic-components/comum/super-detalhes';
import { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';


@Component({
  selector: 'app-detalhes',
  templateUrl: './detalhes.component.html',
  styleUrls: ['./detalhes.component.css']
})
export class DetalhesComponent extends SuperDetalhesComponent {

  detalhesForm: FormGroup;

  constructor(protected service: OrganizacaoService, protected router: Router, protected route: ActivatedRoute, protected organizationService: OrganizacaoService,
    private fb: FormBuilder, protected location: Location) {
    super(service, router, route);
  }

  initForm() {
    this.detalhesForm = this.fb.group({
      'name': new FormControl({ value: this.selecionado['name'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }, Validators.compose([Validators.required])),
      'code': new FormControl({ value: this.selecionado['code'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }, Validators.compose([Validators.required])),
      'upper': new FormControl({ value: this.selecionado['upper'], disabled: this.notNew(this.selecionado) && !this.canUpdate(this.selecionado) }, Validators.compose([Validators.required])),
    });
  }


  voltar() {
    this.router.navigate(['../..'], { relativeTo: this.route });
  }

  cancelar() {
    this.service.getOne(this.selecionado.version == null ? "new" : this.selecionado.id).then(obj => {
      this.selecionado = obj;
      this.initForm();
    })
  }

  salvar() {
    console.log(this.selecionado);
    this.service.update(this.selecionado)
      .then(salvo => {
        this.selecionado = salvo;
        this.msg.createSuccessAlert("Objeto salvo", "Operação realizada com sucesso");

        this.location.go("nacionalidade/detalhes/" + salvo.id);

        this.initForm();
      })
      .catch(erro => {
        this.msg.createErrorAlert("Erro", erro);
      });
  }


}
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/detalhes//detalhes.component.ts`, src, `utf8`);
}




function gera_organization_lista_lista_component_css(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
.padding-bottom-20{
    padding-bottom: 20px;
}
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/lista//lista.component.css`, src, `utf8`);
}




function gera_organization_lista_lista_component_html(project, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<h2>Lista {{resposta.quantity}} </h2>
<div class="row padding-bottom-20">
    <div class="col-sm-6">
        <input type="text" id="inPesquisa" name="pesquisa" placeholder="Pesquisa" class="form-control" [(ngModel)]="pesquisa" (keypress)="verificaEnter(\$event)"/>
    </div>
    <div class="col-sm-3" >
        <button type="button" class="btn btn-info" (click)="pesquisar()">
            <i class="fas fa-search"></i> Pesquisar </button>
    </div>

    <div class="col-sm-3 text-right">
        <button type="button" class="btn btn-success" (click)="novo()">
            <i class="far fa-file"></i> Novo</button>
    </div>
</div>
<vic-tabela [(dados)]="resposta" [colunas]="colunas" (acao)="goDetalhes(\$event)"></vic-tabela>
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/lista//lista.component.html`, src, `utf8`);
}




function gera_organization_lista_lista_component_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { OrganizacaoService } from '../organization.service';
import { BaseEntity } from "../../vic-components/comum/base-entity";
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperListaComponent } from '../../vic-components/comum/super-lista';


@Component({
  selector: 'app-lista',
  templateUrl: './lista.component.html',
  styleUrls: ['./lista.component.css']
})
export class ListaComponent extends SuperListaComponent {

  colunas = [
    { active: true, comparisonOperator: "STARTS_WITH", field: "name", label: "Nome",pedacos: ["name"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "code", label: "Codigo",pedacos: ["code"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "upper.name", label: "Superior",pedacos: ["upper", "name"]},
    { active: true, comparisonOperator: "STARTS_WITH", field: "upper.code", label: "Codigo",pedacos: ["upper", "code"]},
  ];

  constructor(protected service: OrganizacaoService, protected router: Router, protected route: ActivatedRoute) {
    super(service,router,route);
  }

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization/lista//lista.component.ts`, src, `utf8`);
}




function gera_organization_organization_routing_module_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';


const routes: Routes = [
  {
    path: 'organization', component: CrudComponent,
    children: [
      { path: '', component: ListaComponent },
      { path: 'detalhes/:id', component: DetalhesComponent }
    ]
  }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class OrganizacaoRoutingModule { }
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization//organization-routing.module.ts`, src, `utf8`);
}




function gera_organization_organization_module_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';
import { FormsModule, ReactiveFormsModule }   from '@angular/forms';
import { CommonModule } from '@angular/common';
import { VicComponentsModule } from '../vic-components/vic-components.module';
import { OrganizacaoRoutingModule } from './organization-routing.module';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';
import { BrowserModule } from '@angular/platform-browser';

/*IMPORTS*/

@NgModule({
  imports: [
    CommonModule,
    FormsModule, OwlDateTimeModule, OwlNativeDateTimeModule,
    OrganizacaoRoutingModule,
    VicComponentsModule,
    BrowserModule,    
    ReactiveFormsModule 
  ],
  declarations: [
/*DECLARATIONS*/
      CrudComponent, 
      ListaComponent, 
      DetalhesComponent
,]
})
export class OrganizacaoModule { }
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization//organization.module.ts`, src, `utf8`);
}




function gera_organization_organization_service_ts(project, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por munif as 28/02/2018 01:55:26 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Injectable } from '@angular/core';
import { Http, Headers, Response } from '@angular/http';
import { SuperService} from '../vic-components/comum/super-service';

@Injectable({
  providedIn: 'root'
})
export class OrganizacaoService extends SuperService{

  constructor(http:Http) {
    super('organization',http);
  }

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/organization//organization.service.ts`, src, `utf8`);
}



function gera_pietra_guard_guard_ts(project, angularPath) {
  let src = `
import { Injectable } from '@angular/core';
import { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';
import { Observable } from 'rxjs/Observable';
import { LoginService } from './login/login.service';

@Injectable({
  providedIn: 'root'
})
export class PietraGuardGuard implements CanActivate {

  constructor(public loginService: LoginService, private router: Router) {

  }

  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {
    this.loginService.proximaUrl = state.url;
    if (!this.loginService.logado) {
      this.router.navigate(['/login']);
    }

    return this.loginService.logado;
  }
}
  
    `;
  util.escreveArquivo(`${angularPath}/src/app//pietra-guard.guard.ts`, src, `utf8`);
}





function gera_entidade_crud_crud_component_css(project, entityName, entityData, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/crud//crud.component.css`, src, `utf8`);
}




function gera_entidade_crud_crud_component_html(project, entityName, entityData, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
  <h1 class="h2">${entityName}</h1>
</div>
<router-outlet></router-outlet>
    `;
  util.escreveArquivo(`${angularPath}/src/app//${entityName}/crud//crud.component.html`, src, `utf8`);
}




function gera_entidade_crud_crud_component_ts(project, entityName, entityData, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
  
@Component({
  selector: 'app-crud',
  templateUrl: './crud.component.html',
  styleUrls: ['./crud.component.css']
})
export class CrudComponent  {

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/crud//crud.component.ts`, src, `utf8`);
}




function gera_entidade_detalhes_detalhes_component_css(project, entityName, entityData, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
.footer{
    float: right !important;
    border: 1px 0px 0px 0px solid black;
    text-align: right;
}

.margin-bottom{
    margin-bottom: 20px;
}
    `;
  entityName
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/detalhes//detalhes.component.css`, src, `utf8`);
}




function gera_entidade_detalhes_detalhes_component_html(project, entityName, entityData, angularPath) {
  let src = `
<!-- Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 -->
<!-- Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo -->
<div class="container">

  <div *ngIf="!selecionado">
    Carregando....
  </div>
  <div *ngIf="selecionado">
      <div class="alert {{msg.cssClass}}" role="alert" *ngIf="msg.show">
        <strong>{{msg.message}}</strong> {{msg.description}}
        <a (click)="msg.show = false" style="float: right; margin-right: -10px; margin-top: -10px;cursor: pointer;">x</a>
      </div>
    <h2>{{ selecionado.name| uppercase }}</h2>

<form [formGroup]="detalhesForm">
    <div class="row">

  <div class="col-sm-12 margin-bottom">
    <label>NOME:</label>
      <input type="text" id="idname" name="name" formControlName="name" placeholder="NOME" [(ngModel)]="selecionado.name" class="form-control" [disabled]="notNew(selecionado)&&!canUpdate(selecionado)" />
          <div class="alert alert-danger" *ngIf="!detalhesForm.controls['name'].valid && detalhesForm.controls['name'].touched" style="margin-top:10px">
            O campo NOME é obrigatório.
          </div>
  </div>

    </div>
    <div class="row">
      <div class="col-sm-6 text-left">
        <button type="button" class="btn btn-danger" (click)="excluir()" [disabled]="isNew(selecionado)||!canDelete(selecionado)">
          <i class="far fa-trash-alt"></i> Excluir
        </button>
      </div>
      <div class="col-sm-6 text-right">
          <button type="button" class="btn btn-info" (click)="voltar()" [disabled]="!detalhesForm.pristine">
            <i class="fas fa-chevron-circle-left"></i> Voltar
          </button>        <button type="button" class="btn btn-warning" (click)="cancelar()" [disabled]="detalhesForm.pristine">
          <i class="far fa-times-circle"></i> Cancelar
        </button>
        <button type="button" class="btn btn-success" (click)="salvar()"  [disabled]="(notNew(selecionado)&&!canUpdate(selecionado)) || !detalhesForm.valid || detalhesForm.pristine" >
          <i class="far fa-save"></i> Salvar
        </button>
      </div>
    </div>
    </form>
    </div>
    <div class="row" *ngIf="notNew(selecionado)">
      <img [src]="drawsvg">
    </div> </div>

    `;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/detalhes//detalhes.component.html`, src, `utf8`);
}




function gera_entidade_detalhes_detalhes_component_ts(project, entityName, entityData, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  import { Component, OnInit } from '@angular/core';
  import { Router, ActivatedRoute, Params } from '@angular/router';
  import { Location } from '@angular/common';
  import { ${util.primeiraMaiuscula(entityName)}Service } from '../${entityName}.service';
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperDetalhesComponent } from '../../vic-components/comum/super-detalhes';
import { FormGroup, FormBuilder, Validators } from '@angular/forms';
import { BaseEntity } from '../../vic-components/comum/base-entity';


@Component({
  selector: 'app-detalhes',
  templateUrl: './detalhes.component.html',
  styleUrls: ['./detalhes.component.css']
})
export class DetalhesComponent extends SuperDetalhesComponent {

  detalhesForm: FormGroup;

  constructor(protected service: ${util.primeiraMaiuscula(entityName)}Service, protected router: Router, protected route: ActivatedRoute,
    private fb: FormBuilder, protected location: Location) {
    super(service, router, route);
  }


  initForm() {

    this.detalhesForm = this.fb.group({
      'name': ['', Validators.compose([Validators.required])],
    });
  }

  voltar() {
    this.router.navigate(['../..'], { relativeTo: this.route });
  }

  cancelar() {

    let id = this.selecionado["version"] == null ? "new" : this.selecionado["id"];

    this.service.getOne(id).then(obj => {
      this.selecionado = obj;
      this.detalhesForm = this.fb.group({
        'name': [this.selecionado['name'], Validators.compose([Validators.required])],
      })
    })
  }

  salvar() {
    this.service.update(this.selecionado)
      .then(salvo => {
        this.selecionado = salvo;
        this.msg.createSuccessAlert("Objeto salvo", "Operação realizada com sucesso");

        this.location.go("${entityName}/detalhes/" + salvo.id);

        this.initForm();
      })
      .catch(erro => {
        this.msg.createErrorAlert("Erro", erro);
      });
  }
}

`;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/detalhes/detalhes.component.ts`, src, `utf8`);
}




function gera_entidade_lista_lista_component_css(project, entityName, entityData, angularPath) {
  let src = `
  /* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
  /* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
  .padding-bottom-20{
  padding-bottom: 20px;
}
`;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/lista/lista.component.css`, src, `utf8`);
}




function gera_entidade_lista_lista_component_html(project, entityName, entityData, angularPath) {
  let src = `
  <!--Arquivo gerado utilizando VICGERADOR por anderson as 21 / 03 / 2018 10: 45: 24 -->
  <!--Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE, pode ser essa mesmo-->
  <h2>Lista {{ resposta.quantity }} </h2>
  <div class="row padding-bottom-20">
    <div class="col-sm-6">
      <input type="text" id="inPesquisa" name="pesquisa" placeholder="Pesquisa" class="form-control" [(ngModel)]="pesquisa" (keypress)="verificaEnter(\$event)"/>
      </div>
    <div class="col-sm-3" >
      <button type="button" class="btn btn-info" (click)="pesquisar()">
              <i class="fas fa-search"></i> Pesquisar </button>
  </div>

  <div class="col-sm-3 text-right">
    <button type="button" class="btn btn-success" (click)="novo()">
              <i class="far fa-file"></i> Novo</button>
      </div >
  </div >
  <vic-tabela [(dados)] = "resposta"[colunas] = "colunas"(acao) = "goDetalhes(\$event)"(carregarMais) = "carregarMais()" ></vic-tabela>
    `;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/lista/lista.component.html`, src, `utf8`);
}




function gera_entidade_lista_lista_component_ts(project, entityName, entityData, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Component, OnInit } from '@angular/core';
import { Router, ActivatedRoute, Params } from '@angular/router';
import { ${util.primeiraMaiuscula(entityName)}Service } from '../${entityName}.service';
import { BaseEntity } from "../../vic-components/comum/base-entity";
import { VicReturn } from '../../vic-components/comum/vic-return';
import { SuperListaComponent } from '../../vic-components/comum/super-lista';


@Component({
  selector: 'app-lista',
  templateUrl: './lista.component.html',
  styleUrls: ['./lista.component.css']
})
export class ListaComponent extends SuperListaComponent {

  colunas = [
    { active: true, comparisonOperator: "STARTS_WITH", field: "name", label: "Nome", pedacos: ["name"] },
  ];

  constructor(protected service: ${util.primeiraMaiuscula(entityName)}Service, protected router: Router, protected route: ActivatedRoute) {
    super(service, router, route);
  }

}
`;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/lista/lista.component.ts`, src, `utf8`);
}




function gera_entidade_routing_module_ts(project, entityName, entityData, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';


const routes: Routes = [
  {
    path: '${entityName}', component: CrudComponent,
    children: [
      { path: '', component: ListaComponent },
      { path: 'detalhes/:id', component: DetalhesComponent }
    ]
  }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class ${util.primeiraMaiuscula(entityName)}RoutingModule { }
`;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/${entityName}-routing.module.ts`, src, `utf8`);
}




function gera_entidade_module_ts(project, entityName, entityData, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { NgModule } from '@angular/core';
import { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';
import { FormsModule, ReactiveFormsModule }   from '@angular/forms';
import { CommonModule } from '@angular/common';
import { VicComponentsModule } from '../vic-components/vic-components.module';
import { ${util.primeiraMaiuscula(entityName)}RoutingModule } from './${entityName}-routing.module';
import { CrudComponent } from './crud/crud.component';
import { ListaComponent } from './lista/lista.component';
import { DetalhesComponent } from './detalhes/detalhes.component';
import { BrowserModule } from '@angular/platform-browser'
;
/*IMPORTS*/

@NgModule({
  imports: [
    CommonModule,
    FormsModule, OwlDateTimeModule, OwlNativeDateTimeModule,
    ${util.primeiraMaiuscula(entityName)}RoutingModule,
    VicComponentsModule,
    BrowserModule,    
    ReactiveFormsModule 
  ],
  declarations: [
/*DECLARATIONS*/
      CrudComponent, 
      ListaComponent, 
      DetalhesComponent
,]
})
export class ${util.primeiraMaiuscula(entityName)}Module { }
  
    `;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/${entityName}.module.ts`, src, `utf8`);
}




function gera_entidade_service_ts(project, entityName, entityData, angularPath) {
  let src = `
/* Arquivo gerado utilizando VICGERADOR por anderson as 21/03/2018 10:45:24 */
/* Para não gerar o arquivo novamente coloque na primeira linha um comentário com  VICIGNORE , pode ser essa mesmo */
import { Injectable } from '@angular/core';
import { Http, Headers, Response } from '@angular/http';
import { SuperService} from '../vic-components/comum/super-service';

@Injectable({
  providedIn: 'root'
})
export class ${util.primeiraMaiuscula(entityName)}Service extends SuperService{

  constructor(http:Http) {
    super('${entityName}',http);
  }

}
    `;
  util.escreveArquivo(`${angularPath}/src/app/${entityName}/${entityName}.service.ts`, src, `utf8`);
}

function geraproject_src_environments_environment_prod_ts(project, angularPath) {
  let src = `
export const environment = {
  production: true
};

  `;
  util.escreveArquivo(`${angularPath}/src/environments/environment.prod.ts`, src, `utf8`);
}




function geraproject_src_environments_environment_ts(project, angularPath) {
  let src = `
// This file can be replaced during build by using the \`fileReplacements\` array.
// \`ng build ---prod\` replaces \`environment.ts\` with \`environment.prod.ts\`.
// The list of file replacements can be found in \`angular.json\`.

export const environment = {
  production: false
};

/*
 * In development mode, to ignore zone related error stack frames such as
 * \`zone.run\`, \`zoneDelegate.invokeTask\` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.

  `;
  util.escreveArquivo(`${angularPath}/src/environments/environment.ts`, src, `utf8`);
}





function geraproject_src_browserslist(project, angularPath) {
  let src = `
# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.
# For additional information regarding the format and rule options, please see:
# https://github.com/browserslist/browserslist#queries

# You can see what browsers were selected by your queries by running:
#   npx browserslist

> 0.5%
last 2 versions
Firefox ESR
not dead
not IE 9-11 # For IE 9-11 support, remove 'not'.
  `;
  util.escreveArquivo(`${angularPath}/browserslist`, src, `utf8`);
}